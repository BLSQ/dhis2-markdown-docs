# About this guide

The DHIS2 documentation is a collective effort and has been developed by
the development team and users. While the guide strives to be complete,
there may be certain functionalities which have been omitted or which
have yet to be documented. This section explains some of the conventions
which are used throughout the document.

DHIS2 is a browser-based application. In many cases, screenshots have
been included for enhanced clarity. Shortcuts to various functionalities
are displayed such as **Data element** \> **Data element group**. The
"\>" symbol indicates that you should click **Data element** and then
click **Data element group** in the user interface.

Different styles of text have been used to highlight important parts of
the text or particular types of text, such as source code. Each of the
conventions used in the document are explained below.

> **Note**
> 
> A note contains additional information which should be considered or a
> reference to more information which may be helpful.

> **Tip**
> 
> A tip can be a useful piece of advice, such as how to perform a
> particular task more efficiently.

> **Important**
> 
> Important information should not be ignored, and usually indicates
> something which is required by the application.

> **Caution**
> 
> Information contained in these sections should be carefully
> considered, and if not heeded, could result in unexpected results in
> analysis, performance, or functionality.

> **Warning**
> 
> Information contained in these sections, if not heeded, could result
> in permanent data loss or affect the overall usability of the system.

    Program listings usually contain some type of computer code.
    They will be displayed with a shaded background and a different font. 

`Commands will be displayed in bold text, and represent a command which
would need to be executed on the operating system or database.`

Links to external web sites or cross references will be displayed in
blue text, and underlined like [this.](http://www.dhis2.org).

Bibliographic references will displayed in square brackets like this
Store2007. A full reference can be found in the bibliography contained
at the end of this document.

# About demo server, live package and database design

## Using the DHIS2 demo server

The DHIS2 team maintains a demonstration server at
<https://play.dhis2.org/demo>. This is by far the easiest way to try out
DHIS2. Simply open the link in your web browser and login with username
= admin and password = district.

> **Note**
> 
> All changes on this server are deleted each night, so do not save any
> important work on this server. It is strictly for demonstration
> purposes on only\!

## Using the DHIS2 live package

### Starting the DHIS2 Live package

The DHIS2 Live package is the easiest way to get started with DHIS2 on
your local computer. DHIS2 Live is appropriate for a stand-alone
installation and demos. Simply download the application from
[here](http://www.dhis2.org/downloads). Once the file is downloaded, you
can simply double-click the downloaded file, and get started using
DHIS2.

#### Prerequisites for DHIS2 Live

You must be sure that you have a current version of the Java Runtime
installed on your machine. Depending on your operating system, there are
different ways of installing Java. The reader is referred to this
[website](http://java.sun.com/javase/downloads/index.jsp) for detailed
information on getting Java installed.

#### Starting up with a blank database

The live package comes with a demo database just like what you see on
the [online demo](http://apps.dhis2.org/demo/) (which is based on the
national Sierra Leone HMIS), and if you want to start with a blank
system/database and build up your own system then you need to do the
following:

1\) Stop DHIS2 live if it is already running. Right click on the tray
icon and select Exit. The tray icon is the green symbol on the bottom
right of your screen (on Windows) which should say' DHIS2 Server
running' when you hover your mouse pointer over the icon.

2\) Open the folder where the DHIS2 live package is installed and locate
the folder called "conf".

3\) In conf/ open the file called 'hibernate.properties' in a text
editor (notepad or similar) and do the following modification: locate
the string 'jdbc:h2:./database/dhis2' and replace the 'dhis2' part with
any name that you want to give to your database (e.g. dhis2\_test).

4\) Save and close the hibernate.properties file.

5\) Start DHIS2 Live by double-clicking on the file dhis2-live.exe in
the DHIS2 Live installation folder or by using a desktop shortcut or
menu link that you might have set up.

6\) Wait for the browser window to open and the login screen to show,
and then log in with username: admin and password: district

7\) Now you will see a completely empty DHIS2 system and you should
start by adding your users, organisational hierarchy, data elements, and
datasets etc. Please refer to the other sections of the user manual for
instructions on how to do this.

### Downloading and installing the server version

The latest stable server version can be downloaded from this
[website](http://stable.dhis2.org/). For detailed information on how to
install it please refer to the installation chapter in the
implementation manual.

## Logging on to DHIS2

Regardless of whether you have installed the server version of the
desktop Live version, you will use a web-browser to log on to the
application. DHIS2 should be compatible with most modern web-browsers,
although you will need to ensure that Java Script is enabled.

To log on to the application just enter <http://localhost:8080/dhis> if
you are using the DHIS2 live package, or replace `localhost` with the
name or IP address of the server where the server version is installed.

Once you have started DHIS2, either on-line or off-line, the displayed
screen will prompt you to enter your registered user-name and password.
After entering the required information click on log-in button to log
into the application. The default user name and password are 'admin' and
'district'. They should be changed immediately upon logging on the first
time.

![](resources/images/getting_started/login.png)

You can select the language which you wish to display DHIS2 in from the
"Change language" dialog box at the bottom of the screen. Not all
languages may be available.

Should you have forgotten your password, you can click on the "Forgot
password?" link. You must have informed DHIS2 of your email address and
the server must be properly configured to send emails.

If you want to create your own account (and the server administrator
allows this), simply click "Create an account" and follow the directions
provided.

Once you have logged into DHIS2, refer to the specific sections in this
manual for the different functionality which is available.

## Logging out of DHIS2

Just click on the Profile and the click "Log out" the top-right corner
of the DHIS2 menu.

## Quick intro to designing a DHIS2 database

DHIS2 provides a powerful set of tools for data collection, validation,
reporting and analysis, but the contents of the database, e.g. what to
collect, who should collect it and on what format will depend on the
context of use. However, in order to do anything with DHIS2, you must
first create meta-data. Meta-data, or data about the data, describes
what should be collected (data elements and categories), where it should
be collected (organisation units) and how frequently it should be
collected (periods). This meta-data needs to be created in the DHIS2
database before it can be used. This can be done through the user
interface and requires no programming or in-depth technical skills of
the software, but does require a good understanding of the processes
which you are trying to collect data form.

This section will provide a very quick and brief introduction to DHIS2
database design and mainly explain the various steps needed to prepare a
new DHIS2 system for use. How to do each step is explained in other
chapters, and best practices on design choices will be explained in the
implementers manual. Here are the steps to follow:

1\. Set up an organisational hierarchy

2\. Define data elements

3\. Define data sets and data entry forms

4\. Define validation rules

5\. Define indicators

6\. Define report tables and design reports

7\. Set up the GIS module

8\. Design charts and customise the dashboard

### The organisational hierarchy

The organisational hierarchy defines the organisation using the DHIS2,
the health facilities, administrative areas and other geographical areas
used in data collection and data analysis. This dimension to the data is
defined as a hierarchy with one root unit (e.g. Ministry of Health) and
any number of levels and nodes below. Each node in this hierarchy is
called an organisational unit in DHIS2.

The design of this hierarchy will determine the geographical units of
analysis available to the users as data is collected and aggregated in
this structure. There can only be one organisational hierarchy at the
same time so its structure needs careful consideration. Additional
hierarchies (e.g. parallel administrative groupings such as "Facility
ownership") can be modelled using organisational groups and group sets,
however the organisational hierarchy is the main vehicle for data
aggregation on the geographical dimension. Typically national
organisational hierarchies in public health have 4-6 levels, but any
number of levels is supported. The hierarchy is built up of parent-child
relations, e.g. a Country or MoH unit (the root) might have e.g. 8
parent units (provinces), and each province again ( at level 2) might
have 10-15 districts as their children. Normally the health facilities
will be located at the lowest level, but they can also be located at
higher levels, e.g. national or provincial hospitals, so skewed
organisational trees are supported (e.g. a leaf node can be positioned
at level 2 while most other leaf nodes are at level 5).

Note that it is quite easy to make changes to the upper levels of the
hierarchy at a later stage, the only problem is changing organisational
units that collect data (the leaf nodes), e.g. splitting or merging
health facilities. Aggregation up the hierarchy is done based on the
current hierarchy at any time and will always reflect the most recent
changes to the organisational structure. Refer to the chapter on
Organisation Units to learn how to create organisational units and to
build up the hierarchy.

### Data Elements

The Data Element is perhaps the most important building block of a DHIS2
database. It represents the "WHAT" dimension, it explains what is being
collected or analysed. In some contexts this is referred to an
indicator, but in DHIS2 we call this unit of collection and analysis a
*data element*. The data element often represents a count of something,
and its name describes what is being counted, e.g. "BCG doses given" or
"Malaria cases". When data is collected, validated, analysed, reported
or presented it is the data elements or expressions built upon data
elements that describes the WHAT of the data. As such the data elements
become important for all aspects of the system and they decide not only
how data is collected, but more importantly how the data values are
represented in the database, which again decides how data can be
analysed and presented.

It is possible to add more details to this "WHAT" dimension through the
disaggregation dimension called data element categories. Some common
categories are Age and Gender, but any category can be added by the user
and linked to specific data elements. The combination of a data
element's name and its assigned category defines the smallest unit of
collection and analysis available in the system, and hence describes the
raw data in the database. Aggregations can be done when zooming out of
this dimension, but no further drill-down is possible, so designing data
elements and categories define the detail of the analysis available to
the system (on the WHAT dimension). Changes to data elements and
categories at a later stage in the process might be complicated as these
will change the meaning of the data values already captured in the
database (if any). So this step is one of the more decisive and careful
steps in the database design process.

One best practice when designing data elements is to think of data
elements as a unit of data analysis and not just as a field in the data
collection form. Each data element lives on its own in the database,
completely detached from the collection form, and reports and other
outputs are based on data elements and expressions/formulas composed of
data elements and not the data collection forms. So the data analysis
needs should drive the process, and not the look an feel of the data
collection forms. A simple rule of thumb is that the name of the data
element must be able to stand on its own and describe the data value
also outside the context of its collection form. E.g. a data element
name like "Total referrals" makes sense when looking at it in either the
"RCH" form or the "OPD" form, but on its own it does not uniquely
describe the phenomena (who are being referred?), and should in stead be
called "Total referrals from Maternity" or "Total referrals from OPD".
Two different data elements with different meanings, although the field
on the paper form might only say "Total referrals" since the user of the
form will always know where these referrals come from. In a database or
a repository of data elements this context is no longer valid and
therefore the names of the data elements become so important in
describing the data.

Common properties of data elements can be modelled through what is
called data element groups. The groups are completely flexible in the
sense that they are defined by the user, both their names and their
memberships. Groups are useful both for browsing and presenting related
data, but can also be used to aggregate data elements together. Groups
are loosely coupled to data elements and not tied directly to the data
values which means they can be modified and added at any point in time
without interfering with the raw data.

### Datasets and data entry forms

All data entry in DHIS2 is organised through the use of Datasets. A
Dataset is a collection of data elements grouped together for data
collection, and in the case of distributed installs they also define
chunks of data for export and import between instances of DHIS2 (e.g.
from a district office local installation to a national server).
Datasets are not linked directly to the data values, only through their
data elements and frequencies, and as such a dataset can be modified,
deleted or added at any point in time without affecting the raw data
already captured in the system, but such changes will of course affect
how new data will be collected.

A dataset has a period type which controls the data collection
frequency, which can be daily, weekly, monthly, quarterly, six-monthly,
or yearly. Both which data elements to include in the dataset and the
period type is defined by the user, together with a name, short name,
and code.

A data element can belong to multiple datasets, but this requires
careful thinking as it may lead to overlapping and inconstant data being
collected if e.g. the datasets are given different frequencies and are
used by the same orgunits.

#### Data entry forms

Once you have assigned a dataset to an orgunit that dataset will be made
available in Data Entry (under Services) for the orgunits you have
assigned it to and for the valid periods according to the dataset's
period type. A default data entry form will then be shown, which is
simply a list of the data elements belonging to the dataset together
with a column for inputting the values. If your dataset contains data
elements with categories such as age groups or gender, then additional
columns will be automatically generated in the default form based on the
categories. In addition to the default list-based data entry form there
are two more alternatives, the section-based form and the custom form.

##### Section forms

Section forms allow for a bit more flexibility when it comes to using
tabular forms and are quick and simple to design. Often your data entry
form will need multiple tables with subheadings, and sometimes you need
to disable (grey out) a few fields in the table (e.g. some categories do
not apply to all data elements), both of these functions are supported
in section forms. After defining a dataset you can define it's sections
with subsets of dataelements, a heading and possible grey fields i the
section's table. The order of sections in a dataset can also be defined.
In Data Entry you can now start using the Section form (should appear
automatically when sections are available for the selected dataset). You
can switch between default and section forms in the top right corner of
the data entry screen. Most tabular data entry forms should be possible
to do with sections forms, and the more you can utilise the section
forms (or default forms) the easier it is for you. If these two types of
forms are not meeting your requirements then the third option is the
completely flexible, although more time-consuming, custom data entry
forms.

##### Custom Forms

When the form you want to design is too complicated for the default or
section forms then your last option is to use a custom form. This takes
more time, but gives you full flexibility in term of the design. In
DHIS2 there is a built in HTML editor (FcK Editor) for the form designer
and you can either design the form in the UI or paste in your HTML
directly using the Source window in the editor. In the custom form you
can insert static text or data fields (linked to data elements +
category) in any position on the form and you have complete freedom to
design the layout of the form. Once a custom form has been added to a
dataset it will be available in data entry and used automatically. You
can switch back to default and section (if exists) forms in the top
right corner of the data entry screen.

### Validation rules

Once you have set up the data entry part of the system and started to
collect data then there is time to define data quality checks that help
to improve the quality of the data being collected. You can add as many
validation rules as you like and these are composed of left and right
side expressions that again are composed of data elements, with an
operator between the two sides. Typical rules are comparing subtotals to
totals of something. E.g. if you have two data elements "HIV tests
taken" and "HIV test result positive" then you know that in the same
form (for the same period and organisational unit) the total number of
tests must always be equal or higher than the number of positive tests.
These rules should be absolute rules meaning that they are
mathematically correct and not just assumptions or "most of the time
correct". The rules can be run in data entry, after filling each form,
or as a more batch like process on multiple forms at the same time, e.g.
for all facilities for the previous reporting month. The results of the
tests will list all violations and the detailed values for each side of
the expression where the violation occurred to make it easy to go back
to data entry and correct the values.

### Indicators

Indicators can be added, modified and deleted at any point in time
without interfering with the data values in the database.

### Report tables and reports

Standard reports in DHIS2 are a very flexible way of presenting the data
that has been collected. Data can be aggregated by any organisational
unit or orgunit level, by data element, by indicators, as well as over
time (e.g. monthly, quarterly, yearly). The report tables are custom
data sources for the standard reports and can be flexibly defined in the
user interface and later accessed in external report designers such as
iReport or through custom HTML reports. These report designs can then be
set up as easily accessible one-click reports with parameters so that
the users can run the same reports e.g. every month when new data is
entered, and also be relevant to users at all levels as the
organisational unit can be selected at the time of running the report.

### GIS

In the integrated GIS module you can easily display your data on maps,
both on polygons (areas) and as points (health facilities), and either
as data elements or indicators. By providing the coordinates of your
organisational units to the system you can quickly get up to speed with
this module. See the GIS section for details on how to get started.

### Charts and dashboard

On of the easiest way to display your indicator data is through charts.
An easy to use chart dialogue will guide you through the creation of
various types of charts with data on indicators, organisational units
and periods of your choice. These charts can easily be added to one of
the four chart sections on your dashboard and there be made easily
available right after log in. Make sure to set the dashboard module as
the start module in user settings.

# Using the Data Entry app

## About the Data Entry app

The **Data Entry** app is where you manually enter aggregated data in
DHIS2. You register data for an organisation unit, a period, and a set
of data elements (data set) at a time. A data set often corresponds to a
paper-based data collection tool. You configure the data sets in the
**Maintenance** app.

> **Note**
> 
> If a data set has both a section form and a custom form, the system
> displays the custom form during data entry. Users who enter data can't
> select which form they want to use. In web-based data entry the order
> of display preference is:
> 
> 1.  Custom form (if it exists)
> 
> 2.  Section form (if it exists)
> 
> 3.  Default form
> 
> Mobile devices do not support custom forms. In mobile-based data entry
> the order of display preference is:
> 
> 1.  Section form (if it exists)
> 
> 2.  Default form

When you close an organisation unit, you can't register or edit data to
this organisation unit in the **Data Entry** app.

## Enter data in a data entry form

![](resources/images/data_entry/data_entry_overview.png)

1.  Open the **Data Entry** app.

2.  In the organisation unit tree to the left, select an organisation
    unit.

3.  Select a **Data set**.

4.  Select a **Period**.
    
    The available periods are controlled by the period type of the data
    set (reporting frequency). You can jump a year back or forward by
    clicking **Prev year** or **Next year**.
    
    > **Note**
    > 
    > Depending on how you've configured the data entry form, you might
    > have to enter additional information before you can open the date
    > entry form. This can for example be a project derived from a
    > category combination.

5.  Enter data in the data entry form.
    
      - A green field means that the system has saved the value.
    
      - A grey field means that the field is disabled and you can't
        enter a value. The cursor will automatically jump to the next
        open field.
    
      - To move to the next field, press the Tab key or the Down Arrow
        key.
    
      - To move back to the previous field, press Shift+Tab or the Up
        Arrow key.
    
      - If you type in an invalid value, for example a character in a
        field that only accepts numeric values, you'll get a pop-up that
        explains the problem and the field will be coloured yellow (not
        saved) until you have corrected the value.
    
      - If you have defined a minimum maximum value range for the field
        and you enter a value that is outside this range, you'll get a
        pop-up message that says the value is out of range. The value
        remains unsaveduntil you've changed the value or updated the
        value range and then re-entered the value.

6.  When you've filled in the form, click **Run validation** in the top
    right corner or below the data entry form.
    
    All validation rules which involves data elements in the current
    data entry form (data set) are then run against the new data. If
    there are no violations of the validation rules, you'll see a
    message saying *The data entry screen successfully passed
    validation*. If there are validation violations, they will be
    presented in a list.
    
    ![](resources/images/dhis2UserManual/Validation%20Rule_Result.png)

7.  (Optional) Correct validation violations.
    
    > **Note**
    > 
    > Zero (0) will delete the value if the data element has been
    > configured to not store zeros.

8.  When you've corrected errors and you're done with data entry, click
    **Complete**.
    
    The system uses this information when generating completeness
    reports for district, county, province or the national level.

## Mark a data value for follow-up

![](resources/images/data_entry/data_entry_section_history.png)

If you for example have a suspicious value that you need to investigate
further, you can keep it the system, but mark it for follow-up. In the
**Data Quality** app you can then run a follow-up analysis to view and
correct all marked values.

1.  Open the **Data Entry** app.

2.  Open an existing data entry form.

3.  Double-click the field with the value you want to mark for
    follow-up.

4.  Click the star icon.

## Edit data values in a completed data entry form

1.  Open the **Data Entry** app.

2.  Open an existing data entry form.

3.  Click **Incomplete**.

4.  Change the relevant data values.
    
    > **Note**
    > 
    > Zero (0) will delete the value if the data element has been
    > configured to not store zeros,

5.  Click **Complete**.

## Display a data value's history

![](resources/images/data_entry/data_entry_section_history.png)

You can display the last 12 values registered for a field.

1.  Open the **Data Entry** app.

2.  Open an existing data entry form.

3.  Double-click the field with the value you want to view the history
    for.

4.  Click **Data element history**.

## Display a data value's audit trail

![](resources/images/data_entry/data_entry_audit_trail.png)

The audit trail allows you to view other data values which have been
entered prior to the current value. The audit trail also shows when the
data value was altered and which user who made the changes.

1.  Open the **Data Entry** app.

2.  Open an existing data entry form.

3.  Double-click the field with the value you want to view the audit
    trail for.

4.  Click **Audit trail**.

## Create minimum maximum value range manually

![](resources/images/data_quality/set_min_max_manually.png)

1.  In the **Data Entry** app, open a data entry form.

2.  Double-click the field for which you want to set the minimum maximum
    value range.

3.  Enter **Min limit** and **Max limit**.

4.  Click **Save**.
    
    If values don't fall within the new value range the next time you
    enter data, the data entry cell will appear with an orange
    background.

5.  (Optional) Type a comment to explain the reason for the discrepancy,
    for example an event at a facility which may have generated a large
    number of clients.

6.  (Optional) Click **Save comment**.

> **Tip**
> 
> Click the star icon to mark the value for further follow-up.

## Enter data offline

The **Data Entry** app works even if you don't have a stable Internet
connection during data entry. When you don't have an internet
connection, the data you enter is saved to your local computer. When the
Internet connection is back, the app will push the data to the server.
The total bandwidth usage is reduced since data entry forms no longer
are retrieved from the server for each rendering.

> **Note**
> 
> To use this functionality, you must login to the server while you've
> an Internet connection.

  - When you're connected to the Internet, the app displays this message
    at the top of the data entry form:
    
    ![](resources/images/data_entry/data_entry_online1.png)

  - If your Internet connection breaks during data entry, the app
    detects it and displays this message:
    
    ![](resources/images/data_entry/data_entry_offline1.png)
    
    Now your data will be stored locally. You can continue to enter data
    as normal.

  - Once you have entered all necessary data and the app detects that
    the Internet connection is back, you'll see this message:
    
    ![](resources/images/data_entry/data_entry_offline_upload.png)
    
    Click **Upload** to synchronize data with the server.

  - When the data has successfully synchronized with the server, you'll
    see this confirmation
    message:
    
    ![](resources/images/data_entry/data_entry_offline_upload_success1.png)

## Enable multi-organisation unit data entry

![](resources/images/data_entry/data_entry_multiple_org_unit.png)

It can be useful to enter data for multiple organisation units in the
same data entry form, for instance if there are few data elements in the
form and a huge number of organisation units in the hierarchy. In that
case, you can enable multi-organisation unit data entry.

> **Note**
> 
> Multi-organisation unit data entry only works for sectionforms.

1.  Open the **System Settings** app.

2.  Select **Enable multi-organisation unit forms**.

3.  In the **Data Entry** app, select the organisation unit immediately
    above the organisation unit you want to enter data for in the
    organisation unit hierarchy.
    
    Data elements will appear as columns and organisation units as rows
    in the form.
    
    > **Note**
    > 
    > The data entry forms should still be assigned to the facilities
    > that you actually enter data for, that is the organisation units
    > now appearing in the form.

## See also

  - [Control data
    quality](https://docs.dhis2.org/master/en/user/html/control_data_quality.html)

  - [Manage data sets and data entry
    forms](https://docs.dhis2.org/master/en/user/html/manage_data_set.html)

  - [Using the Maintenance
    app](https://docs.dhis2.org/master/en/user/html/maintenance_app.html)

# Control data quality

## About data quality checks

The **Data Quality** app contains tools to validate the accuracy and
reliability of the data in the system. You can verify the data quality
with the help of validation rules and various statistical checks. Data
quality has different dimensions including:

<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Dimension</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Correctness</p></td>
<td><p>Data should be within the normal range for data collected at that facility. There should be no gross discrepancies when compared with data from related data elements.</p></td>
</tr>
<tr class="even">
<td><p>Completeness</p></td>
<td><p>Data for all data elements for all reporting organisation units should have been submitted.</p></td>
</tr>
<tr class="odd">
<td><p>Consistency</p></td>
<td><p>Data should be consistent with data entered during earlier months and years while allowing for changes with reorganization, increased work load, etc. and consistent with other similar facilities.</p></td>
</tr>
<tr class="even">
<td><p>Timeliness</p></td>
<td><p>All data from all reporting organisation units should be submitted at the appointed time.</p></td>
</tr>
</tbody>
</table>

You can verify data quality in different ways, for example:

  - At point of data entry, DHIS2 can check the data entered to see if
    it falls within the minimum maximum value ranges of that data
    element (based on all previous data registered).

  - By defining validation rules, which can be run once the user has
    finished data entry. The user can also check the entered data for a
    particular period and organization unit(s) against the validation
    rules, and display the violations for these validation rules.

  - By analysing data sets, that is, examine gaps in the data.

  - By data triangulation, that is, comparing the same data or indicator
    from different sources.

## Validation rule analysis

### About validation rule analysis

A validation rule is based on an expression which defines a relationship
between data element values. The expression forms a condition which
should assert that certain logical criteria are met.

The expression consist of:

  - a left side

  - a right side

  - an operator

A validation rule could assert that "Suspected malaria cases tested" \>=
"Confirmed malaria cases".

The validation rule analysis tests validation rules against the data
registered in the system. Validation violations are reported when the
condition defined in the validation rule expression is not met, which
means when the condition is false.

You can configure a validation rule analysis to automatically send out
information about validation violations to selected user groups. These
messages are called *validation notifications* and you create them in
the **Maintenance** app. Validation notifications are sent via the
internal DHIS2 messaging system.

### Workflow

1.  In the **Maintenance** app, create validation rules and validation
    rule groups.

2.  (Optional) In the **Maintenance** app, create validation
    notifications.

3.  Run the validation rule analysis, either automatically or manually.
    
      - In the **Data Administration** app, you schedule the validation
        rule analysis to run automatically for all validation rules
        included in one or several validation notifications. After the
        system has run the analysis, you'll see the validation
        violations (if any) in the validation notifications sent via the
        internal DHIS2 messaging system.
    
      - In the **Data Quality** app, you run the validation rule
        analysis manually for selected validation rules. After the
        analysis process has finished, you'll see a list of validation
        violations (if any).

### Schedule a validation rule analysis to run automatically

> **Note**
> 
> Only validation rules that are included in one or several validation
> notifications will be a part of the validation rule analysis. If
> there's no corresponding validation notification for a validation
> rule, the system has nowhere to send the validation violations.

> **Note**
> 
> While running validation rule analysis automatically, any results not
> already persisted, will be persisted during this run. Persisted
> results can currently only be accessed trough the api.

1.  Verify that you have created all the validation rules, validation
    rule groups and validation notifications you need.

2.  Open the **Data Administration** app and click **Scheduling**.

3.  If scheduling is active, click **Stop**.

4.  In the **Data monitoring** section, select **All daily**.

5.  Click **Start**.

### Run a validation rule analysis manually

![](resources/images/dhis2UserManual/Validation%20Rule_Analysis.png)

1.  Verify that you have created all the validation rules, validation
    rule groups and validation notifications you need.

2.  Open the **Data Quality** app and click **Validation rule
    analysis**.

3.  Select **Start date** and **End date**.

4.  Select which **Validation rule group** you want to include in the
    analysis.
    
    You can select all validation rules or all validation rules from a
    single validation rule group.

5.  (Optional) Select **Send notifications** to trigger validation
    notifications.
    
    > **Note**
    > 
    > If you want to send out validation notifications, you must first
    > create them in the **Maintenance** app.

6.  (Optional) Select *Persist new results* to persist any non-persisted
    results found during the analysis

7.  Select a **Parent organisation unit**.

8.  Click **Validate**.
    
    The analysis process duration depends on the amount of data that is
    being analysed. If there are no violations of the validation rules,
    you'll see a message saying *Validation passed successfully*. If
    there are validation violations, they will be presented in a
    list.
    
    ![](resources/images/dhis2UserManual/Validation%20Rule_Analysis%20Result.png)

9.  (Optional) Click the show details icon to get more information about
    a validation violation. In the pop-up window you'll find information
    about the data elements included in the validation rules and their
    corresponding data values. You can use this information to identify
    the source of the validation rule violation.

10. (Optional) Click **Download as PDF**, **Download as Excel** or
    **Download as CSV** to download the validation violations list in
    PDF, Excel or CSV formats.

### See also

  - [Manage validation
    rules](https://docs.dhis2.org/master/en/user/html/manage_validation_rule.html)

  - [Data Administration
    app](https://docs.dhis2.org/master/en/user/html/data_admin.html)

## Standard deviation outlier analysis

### About standard deviation outlier analysis

The standard deviation outlier analysis identifies values that are
numerically distant from the rest of the data. The analysis is based on
the standard normal distribution. The system calculates the average,
based on values since the beginning of time, for one particular
combination of organisation unit, data element, category option
combination and attribute option combination. Outliers can occur by
chance but often indicate a measurement error or a heavy-tailed
distribution which leads to very high numbers. You should investigate
measurement errors and try to correct them before you discard them from
the analysis.

> **Warning**
> 
> It's not recommended to use tools or interpretations that assume a
> normal distribution for heavy-tailed distributions.
> 
> For example: the standard deviation outlier analysis is not an
> appropriate tool when you expect huge seasonal variations in the
data.

### Run a standard deviation outlier analysis

![](resources/images/dhis2UserManual/Data%20Quality_Std%20Deviation%20Analysis.png)

1.  Open the **Data Quality** app and click **Std dev outlier
    analysis**.

2.  Select **From date** and **To date**.

3.  Selectdata set(s).

4.  Select **Parentorganisationunit**.
    
    All children of the organisation unit will be included. The analysis
    is made on raw data "under" the parent organisation unit, not on
    aggregated data.

5.  Select a number of standard deviations.
    
    This refers to the number of standard deviations the data is allowed
    to deviate from the mean before it is classified as an outlier.

6.  Click **Start**.
    
    The analysis process duration depends on the amount of data that is
    being analysed. If there are standard deviations outliers, they will
    be presented in a
    list.
    
    ![](resources/images/data_quality/std-dev-outlier-analysis-result.png)
    
    For each outlier, you'll see the data element, organisation unit,
    period, minimum value, actual value and maximum value. The minimum
    and maximum values refer to the border values derived from the
    number of standard deviations selected for the analysis.

> **Tip**
> 
> Click the star icon to mark an outlier value for further follow-up.

### Modify a standard deviation outlier value

You can modify an outlier value directly in the analysis result list:

1.  In the value column, click inside the field that contains the value
    you want to change.

2.  Enter a value and then navigate away from that field either by
    clicking tab or anywhere outside the field.
    
    The system provides an alert if the value is still outside the
    defined minimum and maximum values, but the value will be saved in
    any case. The field will have a red background color if the value is
    outside the range, and a green if inside.

## Minimum maximumoutlieranalysis

### About minimum maximum value based outlier analysis

You can verify the data quality at the point of data entry by setting a
minimum maximum value range for each data element. You create the value
ranges manually or generate them automatically.

The auto-generated minimum maximum value range is suitable only for
normally distributed data. DHIS2 will determine the arithmetic mean and
standard deviation of all values for a given data element, category
option, organisation unit and attribute combination.Then the system will
calculate the minimum maximum value range based on the **Data analysis
std dev factor**specified in the **System Settings** app.

For data which is highly-skewed or zero inflated (as is often the case
with aggregate data), the values which DHIS2 auto-generates may not
provide an accurate minimum maximum value range. This can lead to
excessive false violations, for example if you analyse values related to
seasonal diseases.

> **Note**
> 
> Minimum maximum value ranges are calculated across all attribute
> combination options for a given data element, category option and
> organisation unit combination.

### Workflow

1.  Create a minimum maximum value range, either automatically or
    manually.
    
      - In the **Data Administration** app, you generate value ranges
        automatically.
    
      - In the **Data Entry** app, you set value ranges manually for
        each field.

2.  In the **Data Quality** app, run the **Min-max outlier analysis**.

### Configure a minimum maximum outlier analysis

#### Create minimum maximum value range automatically

![](resources/images/data_quality/generate_min_max.png)

> **Note**
> 
> Auto-generated minimum maximum value ranges can be useful for many
> situations, but it's recommended to verify that the data is actually
> normally distributed prior to using this function.

You generate minimum maximum value ranges calculated by data set in the
**Data Administration** app. The new value ranges override any value
ranges that the system has calculated previously.

1.  Set the **Data analysis std dev factor**:
    
    1.  Open the **System Settings** app, and click **General**.
    
    2.  In the **Data analysis std dev factor** field, enter a value.
        
        This sets the number of standard deviations to use in the
        outlier analysis. The default value is 2. A high value will
        catch less outlier values than a low value.

2.  Open the **Data Administration** app and click **Min-max value
    generation**.

3.  Select data set(s).

4.  Select an **Organisation unit**.

5.  Click **Generate**.
    
    New minimum maximum value ranges for all data elements in the
    selected data sets for all organisation units (including
    descendants) of the selected organisation units are generated.

#### Create minimum maximum value range manually

![](resources/images/data_quality/set_min_max_manually.png)

1.  In the **Data Entry** app, open a data entry form.

2.  Double-click the field for which you want to set the minimum maximum
    value range.

3.  Enter **Min limit** and **Max limit**.

4.  Click **Save**.
    
    If values don't fall within the new value range the next time you
    enter data, the data entry cell will appear with an orange
    background.

5.  (Optional) Type a comment to explain the reason for the discrepancy,
    for example an event at a facility which may have generated a large
    number of clients.

6.  (Optional) Click **Save comment**.

> **Tip**
> 
> Click the star icon to mark the value for further follow-up.

#### Delete minimum maximum value range

![](resources/images/data_quality/generate_min_max.png)

You can permanently delete all minimum maximum value ranges for selected
data sets and organisation units in the **Data Administration** app.

1.  Open the **Data Administration** app and click **Min-max value
    generation**.

2.  Select data set(s).

3.  Select an **Organisation unit**.

4.  Click **Remove**.

### Run a minimum maximum outlier analysis

![](resources/images/data_quality/min_max_analysis.png)

1.  Verify that you've created minimum maximum value ranges.

2.  Open the **Data Quality** app and click **Min-max outlier
    analysis**.

3.  Select **From date** and **Todate**.

4.  Select which data set(s) you want to include in the analysis.

5.  Select **Parent organisation unit**.
    
    All children of the organisation unit will be included. The analysis
    is made on raw data "under" the parent organisation unit, not on
    aggregated data.

6.  Click **Start**.
    
    The analysis process duration depends on the amount of data that is
    being analysed. If there are validation violations, they will be
    presented in a list.
    
    ![](resources/images/data_quality/min_max_result.png)

7.  (Optional) Click **Download as PDF**, **Download as Excel** or
    **Download as CSV** to download the list in PDF, Excel or CSV
    formats.

> **Tip**
> 
> Click the star icon to mark the value for further follow-up.

## Follow-up analysis

### About follow-up analysis

The follow-up analysis creates a list of all data values marked for
follow-up. You can mark a data value for follow-up in the **Data Entry**
app and in the result list you get from a standard deviation outlier or
minimum maximum outlier analysis.

### Createlist of data values marked for follow-up

1.  Open the **Data Quality** app and click **Follow-up analysis**.

2.  Select an **Organisation unit**.
    
    The analysis process duration depends on the amount of data that is
    being analysed. If there are data values marked for follow-up, they
    will be presented in a list.
    
    ![](resources/images/data_quality/data_quality_follow_up.png)

3.  (Optional) Click **Download as PDF**, **Download as Excel** or
    **Download as CSV** to download the validation violations list in
    PDF, Excel or CSV formats.

> **Tip**
> 
> Click the star icon to remove the follow-up tag from the data value.

# Using reporting functionality

## Reporting functionality in DHIS2

The reporting module in DHIS2 provides a range of reporting
alternatives, and this section will explain how to use them to view and
analyse data. Another section explains how to configure and set up the
various reporting tools.

**Standard reports:** Standard reports are built on pivot tables, but
are more advanced in its design allowing for more cosmetics and styles.
These reports can also combine multiple tables and charts in the same
report and be made available as one-click reports that are very easy to
use. These reports can be downloaded as PDF files which makes them ideal
for printing as well as sharing offline.

**Dataset reports:** Dataset reports are simply a printer friendly way
to look at the data entry forms with either raw or aggregated data (over
time or place). The design used in data entry will be used also in the
data set reports. This will work only for data sets that has a custom
data entry form set up.

**Dashboard:** The fastest way to view your data. The dashboard can
display up to four updated charts as well as shortcuts to your favourite
reports, report tables, and map views. Each user can configure a
personal dashboard.

**Data Visualizer:** Do flexible visualizations of your data as charts
and data tables. Any number of indicators and data elements can be
included. Several chart types are available, such as column, stacked
column, line, area and pie charts. The charts can be saved in order to
be easily retrieved later and can also be put on your personal
dashboard. Charts can be downloaded as image and PDF files to your local
computer.

**Orgunit distribution reports:** These reports are generated off the
orgunit group set information and can show what types (and how many of
each type) of health facilities that are located in a given area (any
level in the hierarchy). These reports are automatically generated and
display the information in both tables and charts, and downloads in PDF,
excel, and CSV are available.

**Reporting rate summary:** These reports provide a nice overview of how
many facilities that have submitted their data for a given dataset and
period. Here you can get both the counts and the percentages showing the
reporting rate for all or single data sets.

**Web-based pivot tables:** The built in pivot table tool is a web-based
tool to display indicator data by orgunit and period in a typical pivot
table view and allows for pivoting manipulations of the tables. It
allows for large amounts of data to be downloaded offline for analysis
as well.

**GIS:** Present and analyse your data using thematic maps. You can view
both data elements and indicators and given that you have coordinates
for all your orgunits you can drill down the hierarchy and view maps for
all levels from country polygons to facility points. See the separate
chapter on GIS for more details. All the map information is built into
DHIS2 and all you need to do is to register coordinates for your
organisation units and the maps will be available.

## Using standard reports

You access the available reports by navigating to Apps-\>Reports. In the
report menu in the left bar, click Standard Report. A list of all
pre-defined reports will appear in the main window.


![](resources/images/dhis2UserManual/standard_reports_ke.png)

You run/view a report by clicking on the name of the report and then
selecting "Create" from the contextual menu. If there are any
pre-defined paramaters, you will see a report parameter window where you
must fill in the values needed for orgunit and/or reporting month,
depending on what has been defined in the underlying report table(s).
Click on "Get Report" when you are ready. The report will either appear
directly in your browser or be available as a PDF file for download,
depending on your browser settings for handling PDF files. You can save
the file and keep it locally on your computer for later use.

## Using dataset reports

Dataset reports are printer friendly views of the data entry screen
filled with either raw or aggregated data. These are only available for
data sets that have custom data entry forms and not for default or
section forms.

You can access data set reports from Apps-\>Reports.

A Criteria window will appear where you fill in the details for your
report:

**Dataset:** The data set you want to display.

**Reporting period:**The actual period you want data for. This can be
aggregated as well as raw periods. This means that you can ask for a
quarterly or annual report even though the data set is collected
monthly. A data set's period type (collection frequency) is defined in
data set maintenance. First select the period type (Monthly, Quarterly,
Yearly etc.) in the drop down next to Prev and Next buttons, and then
select one of the available periods from the dropdown list below. Use
Prev and Next to jump one year back or forward.

**Use data for selected unit only:** Use this option if you want a
report for an orgunit that has children, but only want the data
collected directly for this unit and not the data collected by its
children. If you want a typical aggregated report for an orgunit you do
not want to tick this option.

**Reporting Organisation unit:** Here you select the orgunit you want
the report for. This can be at any level in the hierarchy as the data
will be aggregated up to this level automatically (if you do not tick
the option above).

When you are done filling in the report criteria you click on
"Generate". The report will appear as HTML in a printer-friendly format.
Use the print and save as functions in the browser to print or save (as
HTML) the report.You can also export the data set report in Excel and
PDF formats.

## Using resources

The resource tool allows you to upload both files from your local
computer to the DHIS server and to add links to other resources on the
Internet through URLs. If cloud storage is configured for your system,
resources will be saved there.

To create a new resource:

1.  Open the **Reports** app and click **Resource**.

2.  Click **Add new**.

3.  Enter a **Name**.

4.  Select a **Type**: **Upload file** or **External URL**.

5.  Click **Save**.

## Using reporting rate summary

Access the reporting rate summary from the Apps-\>Reports menu.
Reporting rate summaries will show how many datasets (forms) that have
been submitted by organisation unit and period. There are two methods
available to calculate reporting rates (completeness):

  - Based on complete data set registrations. A complete data set
    registration refers to a user marking a data entry form as complete,
    typically by clicking the complete button in the data entry screen,
    hereby indicating to the system that she considers the form to be
    complete. This is i.e. a subjective approach to calculating
    completeness.

  - Based on compulsory data element: You can define any number of data
    elements in a data set to be compulsory. This implies that data
    values must be captured for all data elements which have been marked
    as compulsory in order for the data set to be considered complete.
    This is i.e. an objective approach to calculating completeness.

The reporting rate summary will for each row show a range of measures:

  - Actual reports: Indicates the number of data entry complete
    registrations for the relevant data set.

  - Expected reports: Indicates how many data entry complete
    registrations are expected. This number is based on the number of
    organisation units the relevant data set has been assigned to
    (enabled for data entry).

  - Percent: The percentage of reports registered as complete based on
    the number expected.

  - Reports on time: Same as actual reports, only reports registered as
    complete within the maximum number of days after the end of the
    reporting period. This number of days after reporting period can be
    defined per data set in the data set management.

  - Percent on time: Same as percentage, only reports registered as
    complete on time used as numerator.

To run the report you can follow these steps:

  - Select an orgunit from the tree.

  - Select one of the completeness methods to use to calculate the
    reporting rates.
    
    Select all or one data set. All will give you a report with all data
    sets for the selected organisation unit. A single data set will give
    you a report with completeness for all children of the selected
    organisation unit.

  - Select a period type and a period from the list of available periods
    for that period type. Move back/forward one year by using the
    prev/next buttons.

  - The report will then be rendered. Change any of the parameters above
    and the report will be updated automatically.


![](resources/images/dhis2UserManual/completeness_report.png)

## Using organisation unit distribution reports

You can access the Orgunit Distribution reports from the left side menu
in the Apps-\>Reports.

Orgunit distribution reports are reports that show how the orgunits are
distributed on various properties like type and ownership, and by
geographical areas.

The result can be presented in a table-based report or in a chart.

**Running a report:**

To run a report first select an orgunit in the upper left side orgunit
tree. The report will be based on orgunits located under the selected
orgunit. The select the orgunit group set that you want to use,
typically these are Type, Ownership, Rural/Urban, but can be any
user-defined orgunit group set. The you can click on either Get Report
to get the table-based presentation or Get chart to get the same result
in a chart. You can also download other format such as PDF, Excel and
CSV.


![](resources/images/dhis2UserManual/orgunit_report.png)

## Generate analytics tables

DHIS2 generates database tables which the system then uses as basis for
various analytics functions. These tables are also valuable if you write
advanced SQL reports. In the **Reports** app, you can execute the tables
immediately or schedule them to be executed at regular intervals. This
means that you can refresh recent analytics on demand and see updated
pivot tables without waiting for all of the past years data to
re-process.

> **Note**
> 
> You can also generate the tables through the web API. This task is
> typically performed by a system administrator.

1.  Open the **Reports** app and click **Analytics**.

2.  Select the parts of the analytics process you want to skip:
    
      - **Skip generation of resourcetables**
    
      - **Skip generation of aggregate data and completeness data**
    
      - **Skip generation of event data**
    
      - **Skip generation of enrollment data**

3.  Select **Number of last years of data to include**.

4.  Click **Start export**.

# Analyze data in pivot tables

## About the Pivot Table app

With the **Pivot Table** app, you can create pivot tables based on all
available data dimensions in DHIS2. A pivot table is a dynamic tool for
data analysis which lets you summarize and arrange data according to its
dimensions. Examples of data dimensions in DHIS2 are:

  - data dimension itself (for example data elements, indicators and
    events)

  - periods (representing the time period for the data)

  - organisationhierarchy (representing the geographical location of the
    data)

From these dimensions you can freely select *dimension items* to include
in the pivot table. You can create additional dimensions in DHIS2 with
the group set functionality. This allows for different aggregation
pathways, such as aggregation by "Partner" or facility type.

A pivot table can arrange data dimensions on *columns*, *rows*, and as
*filters*. When you place a data dimension on columns, the pivot table
will display one column per dimension item. If you place multiple data
dimensions on columns, the pivot table displays one column for all
combinations of the items in the selected dimensions. When you place a
data dimension on rows, the pivot table displays one row per dimension
item in a similar fashion. The dimensions you select as filters will not
be included in the pivot table, but will aggregate and filter the table
data based on the selected filter items.

> **Tip**
> 
>   - You must select at least one dimension on columns or rows.
> 
>   - You must include at least one period.
> 
>   - Data element group sets and reporting rates can't appear in the
>     same pivot table.
> 
>   - A pivot table can't contain more than the maximum number of
>     analytic records which have been specified in the system settings.
>     The maximum number of records could also be constrained by the
>     maximum RAM which is available to your browser. You will be
>     prompted with a warning if your requested table exceeds a
>     particular size. From this prompt, you can either cancel the
>     request or continue building the table. Consider making smaller
>     tables instead of one table which displays all of your data
>     elements and indicators together.
> 
>   - The **Pivot Table** app supports drill-down and up for periods and
>     organisation unit. This means that you can for example drill down
>     from yearly periods to quarters, months and weeks inside a pivot
>     table. You can also drill down from the global organisation unit
>     to countries, provinces and facilities.

## Create a pivot table

1.  Open the **Pivot Table** app.

2.  In the menu to the left, select the dimension items you want to
    analyse, for example data elements or indicators.

3.  Click **Layout** and arrange the data dimensions as columns, rows
    and filters.
    
    You can keep the default selectionif you want.

4.  Click **Update**.

In this example, indicators are listed as columns and periods as rows.

![](resources/images/pivot_table/basic_pivot.png)

### Select dimension items

The left menu lists sections for all available data dimensions. From
each section you can select any number of dimension items. As an
example, you can open the section for data elements and select any
number of data elements from the available list. You can select an item
by marking it and clicking on the arrow in the section header or simply
double-clicking on the item. Before you can use a data dimension in your
pivot table you must at least select one dimension item. If you arrange
a dimension as columns or rows but do not select any dimension items,
the dimension is ignored.

You must choose at least one data dimension type to create a pivot
table. The available types are described in this table:

<table>
<caption>Data dimension types</caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Data dimension type</th>
<th>Definition</th>
<th>Examples</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Indicators</td>
<td>An indicator is a calculated formula based on data elements.</td>
<td>Coverage of immunization across a specific district.</td>
</tr>
<tr class="even">
<td>Data elements</td>
<td>Represents the phenomenon for which data has been captured.</td>
<td>Number of malaria cases; number of BCG doses given.</td>
</tr>
<tr class="odd">
<td>Data sets</td>
<td>A collection of data elements grouped for data collection. You can select :
<ul>
<li><p><strong>Reporting rates</strong>: the percentage of actual reports compared to the expected number of reports</p></li>
<li><p><strong>Reporting rates on time</strong>: the reporting rates based on timely form submissions. A timely submission must happen within a number of days after the reporting period.</p></li>
<li><p><strong>Actual reports</strong>: the actual number of reports</p></li>
<li><p><strong>Actual reports on time</strong>: the actual number of reports based on timely form submissions. A timely submission must happen within a number of days after the reporting period.</p></li>
<li><p><strong>Expected reports</strong>: the number of expected reports based on organisation units where the data set and the reporting frequency has been assigned.</p></li>
</ul></td>
<td>Reporting rates for immunization and morbidity forms.</td>
</tr>
<tr class="even">
<td>Event data items</td>
<td>A data element that is part of a program representing events that have been captured.</td>
<td>Average weight and height for children in a nutrition program.</td>
</tr>
<tr class="odd">
<td>Program indicators</td>
<td>A calculated formula based on data elements in a program representing events.</td>
<td>Average BMI score for children in a nutrition program.</td>
</tr>
</tbody>
</table>

You can combine these dimensions to display for example aggregate data
with reporting rates, or event data items together with program
indicators, all in the same pivot tables. For the "data element" data
dimension, you are also able to select "Totals" and "Details", which
will allow you to view different category combination options together
on the same pivot table.

For the period dimension you can choose between using fixed periods or
relative periods. An example of a fixed period is "January 2012". To
select fixed periods start by selecting a period type from the period
type list. You can then select periods from the list of available
periods.

Relative periods are periods relative to the current date. Examples of
relative periods are "Last month", "Last 12 months", "Last 5 years".
Relative periods can be selected by ticking the check-boxes next to each
period. The main advantage of using relative periods is that when you
save a pivot table favorite, it will stay updated with the latest data
as time goes by without the need for constantly updating it.

For the organisation unit dimension you can select any number of
organisation units from the hierarchy. To select all organisation units
below a specific parent organisation unit, right click and click "Select
all children". To manually select multiple organisation units, click and
hold the **Ctrl** key while clicking on organisation units. You can tick
"User org unit", "User sub-units" or "User sub-x2-units" in order to
dynamically insert the organisation unit or units associated with your
user account. This is useful when you save a pivot table favorite and
want to share it with other users, as the organisation units linked with
the other user's account will be used when viewing the favorite.


![](resources/images/pivot_table/period_dimension.png)

Dynamic dimensions can consist of organisation unit group sets, data
element group sets, or category option group sets which have been
configured with the type of "Disaggregation". Once the group sets have
been configured, they will be come available in the pivot tables, and
can be used as additional analysis dimensions, for instance to analyse
aggregate data by Type of organisation unit or Implementing partner.
Dynamic dimensions work the same as fixed dimensions.

> **Tip**
> 
> Some dynamic dimensions may contain many items. This can cause issues
> with certain browsers due to the length of the URL when many dimension
> members are selected. A special "All" check box is available for
> dynamic dimensions, which allows you to include all available
> dimensions implicitly in your pivot table, without specifying each and
> every dimension member.

### Modify pivot table layout

After selecting data dimensions it is time to arrange your pivot table.
Click "Layout" in the top menu to open the layout screen. In this screen
you can position your data dimensions as table columns, rows or filters
by clicking and dragging the dimensions from the dimensions list to the
respective column, row and filter lists. You can set any number of
dimensions in any of the lists. For instance, you can click on
"Organisation units" and drag it to the row list in order to position
the organisation unit dimension as table rows. Note that indicators,
data elements and data set reporting rates are part of the common "Data"
dimension and will be displayed together in the pivot table. For
instance, after selecting indicators and data elements in the left menu,
you can drag "Organisation Unit" from the available dimensions list to
the row dimension list in order to arrange them as rows in the pivot
table.


![](resources/images/pivot_table/table_layout.png)

After you have set up your pivot table you can click "Update" to render
your pivot table, or click "Hide" to hide the layout screen without any
changes taking effect. Since we in our example have selected both the
period and organisation unit dimension as rows, the pivot table will
generate all combinations of the items in these dimensions and produce a
table like this:

![](resources/images/pivot_table/pivot_rows.png)

## Change the display of your pivot table

1.  Open the **Pivot Table** app.

2.  Create a new pivot table or open a favorite.

3.  Click **Options**.

4.  Set the options as required.
    
    <table>
    <caption>Pivot table options</caption>
    <colgroup>
    <col style="width: 21%" />
    <col style="width: 35%" />
    <col style="width: 42%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Option</p></th>
    <th><p>Description</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p><strong>Data</strong></p></td>
    <td><p><strong>Show column totals</strong></p>
    <p><strong>Show row totals</strong></p></td>
    <td><p>Displays total values in the table for each row and column, as well as a total for all values in the table.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Show column sub-totals</strong></p>
    <p><strong>Show row sub-totals</strong></p></td>
    <td><p>Displays subtotals in the table for each dimension.</p>
    <p>If you only select one dimension, subtotals will be hidden for those columns or rows. This is because the values will be equal to the subtotals.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Show dimension labels</strong></p></td>
    <td><p>Shows the dimension names as part of the pivot tables.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Hide empty rows</strong></p></td>
    <td><p>Hides empty rows from the table. This is useful when you look at large tables where a big part of the dimension items don't have data in order to keep the table more readable.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Hide empty columns</strong></p></td>
    <td><p>Hides empty columns from the table. This is useful when you look at large tables where a big part of the dimension items don't have data in order to keep the table more readable.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Skip rounding</strong></p></td>
    <td><p>Skips the rounding of data values, offering the full precision of data values. Can be useful for finance data where the full dollar amount is required.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Aggregation type</strong></p></td>
    <td><p>The default aggregation operator can be over-ridden here, by selecting a different aggregation operator. Some of the aggregation types are <strong>Count</strong>, <strong>Min</strong> and <strong>Max</strong>.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Number type</strong></p></td>
    <td><p>Sets the type of value you want to display in the pivot table: <strong>Value</strong>, <strong>Percentage of row</strong> or <strong>Percentage of column</strong>.</p>
    <p>The options <strong>Percentage of row</strong> and<strong>Percentage of column</strong> mean that you'll display values as percentages of row total or percentage of column total instead of the aggregated value. This is useful when you want to see the contribution of data elements, categories or organisation units to the total value.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Measure criteria</strong></p></td>
    <td><p>Allows for the data to be filtered on the server side.</p>
    <p>You can instruct the system to return only records where the aggregated data value is equal, greater than, greater or equal, less than or less or equal to certain values.</p>
    <p>If both parts of the filter are used, it's possible to filter out a range of data records.</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Events</strong></p></td>
    <td><p><strong>Include only completed events</strong></p></td>
    <td><p>Includes only completed events in the aggregation process. This is useful for example to exclude partial events in indicator calculations.</p></td>
    </tr>
    <tr class="odd">
    <td><p><strong>Organisation units</strong></p></td>
    <td><p><strong>Show hierarchy</strong></p></td>
    <td><p>Shows the name of all ancestors for organisation units, for example &quot;Sierra Leone / Bombali / Tamabaka / Sanya CHP&quot; for Sanya CHP.</p>
    <p>The organisation units are then sorted alphabetically which will order the organisation units according to the hierarchy.</p>
    <p>When you download a pivot table with organisation units as rows and you've selected <strong>Show hierarchy</strong>, each organisation unit level is rendered as a separate column. This is useful for example when you create Excel pivot tables on a local computer.</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Legend</strong></p></td>
    <td><p><strong>Apply legend</strong></p></td>
    <td><p>Applies a legend to the values. This mean that you can apply a colour to the values.</p>
    <p>Select <strong>By data item</strong> to color the table cells individually according to each data element or indicator.</p>
    <p>You configure legends in the <strong>Maintenance</strong> app.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Style</strong></p></td>
    <td><p>Colors the text or background of cells in pivot tables based on the selected legend.</p>
    <p>You can use this option for scorecards to identify high and low values at a glance.</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Style</strong></p></td>
    <td><p><strong>Display density</strong></p></td>
    <td><p>Controls the size of the cells in the table. You can set it to <strong>Comfortable</strong>, <strong>Normal</strong> or <strong>Compact</strong>.</p>
    <p><strong>Compact</strong> is useful when you want to fit large tables into the browser screen.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Font size</strong></p></td>
    <td><strong>Small</strong>.&lt;/para&gt;</td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Digit group separator</strong></p></td>
    <td><p>Controls which character to separate groups of digits or &quot;thousands&quot;. You can set it to <strong>Comma</strong>, <strong>Space</strong> or <strong>None</strong>.</p></td>
    </tr>
    <tr class="odd">
    <td><p><strong>General</strong></p></td>
    <td><p><strong>Table title</strong></p></td>
    <td><p>Type a title here to display it above the table.</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Parameters(for standard reports only)</strong></p></td>
    <td><blockquote>
    <p><strong>Note</strong></p>
    <p>You create standard reports in the <strong>Reports</strong> app.</p>
    <p>In the <strong>Pivot Table</strong> app you set which parameters the system should prompt the user for.</p>
    </blockquote></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Reporting period</strong></p></td>
    <td><p>Controls whether to ask user to enter a report period.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Organisation unit</strong></p></td>
    <td><p>Controls whether to ask user to enter an organisation unit.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Parent organisation unit</strong></p></td>
    <td><p>Controls whether to ask user to enter a parent organisation unit.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Include regression</strong></p></td>
    <td><p>Includes a column with regression values to the pivot table.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Include cumulative</strong></p></td>
    <td><p>Includes a column with cumulative values to the pivot table.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Sort order</strong></p></td>
    <td><p>Controls the sort order of the values.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Top limit</strong></p></td>
    <td><p>Controls the maximum number of rows to include in the pivot table.</p></td>
    </tr>
    </tbody>
    </table>

5.  Click **Update**.

## Manage favorites

Saving your charts or pivot tables as favorites makes it easy to find
them later. You can also choose to share them with other users as an
interpretation or display them on the dashboard.

You view the details and interpretations of your favorites in the
**Pivot Table**, **Data Visualizer**, **Event Visualizer**, **Event
Reports** apps. Use the **Favorites** menu to manage your favorites.

### Open a favorite

1.  Click **Favorites** \> **Open**.

2.  Enter the name of a favorite in the search field, or click **Prev**
    and **Next** to display favorites.

3.  Click the name of the favorite you want to open.

### Save a favorite

1.  Click **Favorites** \> **Save as**.

2.  Enter a **Name** and a **Description** for your favorite.

3.  Click **Save**.

### Rename a favorite

1.  Click **Favorites** \> **Rename**.

2.  Enter the new name for your favorite.

3.  Click **Update**.

### Write an interpretation for a favorite

An interpretation is a link to a resource with a description of the data
at a given period. This information is visible in the **Dashboard** app.
To create an interpretation, you first need to create a favorite. If
you've shared your favorite with other people, the interpretation you
write is visible to those people.

1.  Click **Favorites** \> **Write interpretation**.

2.  In the text field, type a comment, question or interpretation. You
    can also mention other users with '@username'. Start by typing '@'
    plus the first letters of the username or real name and a mentioning
    bar will display the available users. Mentioned users will receive
    an internal DHIS2 message with the interpretation or comment. You
    can see the interpretation in the **Dashboard** app.

3.  Search for a user group that you want to share your favorite with,
    then click the **+** icon.

4.  Change sharing settings for the user groups you want to modify.
    
      - **Can edit and view**: Everyone can view and edit the object.
    
      - **Can view only**: Everyone can view the object.
    
      - **None**: The public won't have access to the object. This
        setting is only applicable to **Public access**.

5.  Click **Share**.

### Subscribe to a favorite

When you are subscribed to a favorite, you receive internal messages
whenever another user likes/creates/updates an interpretation or
creates/update an interpretation comment of this favorite.

1.  Open a favorite.

2.  Click **\>\>\>** in the top right of the workspace.

3.  Click on the upper-right bell icon to subscribe to this favorite.

### Create a link to a favorite

1.  Click **Favorites** \> **Get link**.

2.  Select one of the following:
    
      - **Open in this app**: You get a URL for the favorite which you
        can share with other users by email or chat.
    
      - **Open in web api**: You get a URL of the API resource. By
        default this is an HTML resource, but you can change the file
        extension to ".json" or ".csv".

### Delete a favorite

1.  Click **Favorites** \> **Delete**.

2.  Click **OK**.

### View interpretations based on relative periods

To view interpretations for relative periods, such as a year ago:

1.  Open a favorite with interpretations.

2.  Click **\>\>\>** in the top right of the workspace.

3.  Click an interpretation. Your chart displays the data and the date
    based on when the interpretation was created.To view other
    interpretations, click them.

## Download data from a pivot table

### Download table layout data format

To download the data in the current pivot table:

1.  Click **Download**.

2.  Under **Table layout**, click the format you want to download:
    Microsoft Excel, CSV or HTML.
    
    The data table will have one column per dimension and contain names
    of the dimension items.
    
    > **Tip**
    > 
    > When you download a pivot table with organisation units as rows
    > and you've selected **Show hierarchy** in **Table options**, each
    > organisation unit level is rendered as a separate column. This is
    > useful for example when you create Excel pivot tables on a local
    > computer.

> **Tip**
> 
> You can createa pivot table in MicrosoftExcel from the downloaded
> Excel file.

### Download plain data source format

You can download data in the current pivot table in JSON, XML, Excel,
and CSV as plain data formats with different identification schemes (ID,
Code, and Name). The data document uses identifiers of the dimension
items and opens in a new browser window to display the URL of the
request to the Web API in the address bar. This is useful for developers
of apps and other client modules based on the DHIS2 Web API or for those
who require a plan data source, for instance for import into statistical
packages.

To download plain data source formats:

1.  Click **Download**.

2.  Under **Plain data source**, click the format you want to download.
    
    <table>
    <caption>Available formats</caption>
    <colgroup>
    <col style="width: 18%" />
    <col style="width: 33%" />
    <col style="width: 47%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Format</p></th>
    <th><p>Action</p></th>
    <th><p>Description</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p>JSON</p></td>
    <td><p>Click <strong>JSON</strong></p></td>
    <td><p>Downloads JSON format based on ID property.</p>
    <p>You can also download JSON format based on <strong>Code</strong> or <strong>Name</strong> property.</p></td>
    </tr>
    <tr class="even">
    <td><p>XML</p></td>
    <td><p>Click <strong>XML</strong></p></td>
    <td><p>Downloads XML format based on ID property.</p>
    <p>You can also download XML format based on <strong>Code</strong> or <strong>Name</strong> property.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Microsoft Excel</p></td>
    <td><p>Click <strong>Microsoft Excel</strong></p></td>
    <td><p>Downloads XML format based on ID property.</p>
    <p>You can also download Microsoft Excel format based on <strong>Code</strong> or <strong>Name</strong> property.</p></td>
    </tr>
    <tr class="even">
    <td><p>CSV</p></td>
    <td>Click <strong>CSV</strong></td>
    <td><p>Downloads CSV format based on ID property.</p>
    <p>You can also download CSV format based on <strong>Code</strong> or <strong>Name</strong> property.</p></td>
    </tr>
    <tr class="odd">
    <td><p>JRXML</p></td>
    <td><p>Put the cursor on <strong>Advanced</strong> and click <strong>JRXML</strong></p></td>
    <td><p>Produces a template of a Jasper Report which can be further customized based on your exact needs and used as the basis for a standard report in DHIS2.</p></td>
    </tr>
    <tr class="even">
    <td><p>Raw data SQL</p></td>
    <td><p>Put the cursor on <strong>Advanced</strong> and click <strong>Raw data SQL</strong></p></td>
    <td><p>Provides the actual SQL statement used to generate the pivot table. You can use it as a data source in a Jasper report, or as the basis for an SQL view.</p></td>
    </tr>
    </tbody>
    </table>

### Download a CSV format without rendering data in the web browser

You can download data in CSV format directly without rendering the data
in the web browser. This helps to reduce any constraints in the system
settings that has been set with regards to the maximum number of
analytic records. This lets you download much larger batches of data
that you can use for later offline analysis.

To download data in CSV format without first rendering data in the web
browser:

1.  Click the arrow beside **Update**.
    
    ![](resources/images/pivot_table/data_dump.png)

2.  Click **CSV** to download the format based on ID property.
    
    The file downloads to your computer.
    
    > **Tip**
    > 
    > You can also download CSV format based on **Code** or **Name**
    > property.

## Embed a pivot table in an external web page

Certain analysis-related resources in DHIS2, like pivot tables, charts
and maps, can be embedded in any web page by using a plug-in. You will
find more information about the plug-ins in the Web API chapter in the
*DHIS2 Developer Manual*.

To generate a HTML fragment that you can use to display the pivot table
in an external web page:

1.  Click **Embed**.

2.  Click **Select** to highlight the HTML fragment.

## Visualize pivot table data as a chart or a map

When you have made a pivot table you can switch between pivot table,
chart and map visualization of your data.

### Open a pivot table as a chart

1.  Click **Chart** \> **Open this table as chart**.
    
    Your current pivot table opens as a chart.


![](resources/images/pivot_table/pivot_integration.png)

### Open a pivot table selection as a chart

If you want to visualize a small part of your pivot table as a chart you
can click directly on a value in the table instead opening the whole
table.

1.  In the pivot table, click a value.
    
    
    ![](resources/images/pivot_table/pivot_integration_table.png)

2.  To verify the selection, hold the cursor over **Open selection as
    chart**. The highlighted dimension headers in the table indicate
    what data will be visualized as a chart.

3.  Click **Open selection as chart**.

### Open a pivot table as a map

1.  Click **Chart** \> **Open this table as map**
    
    Your current pivot table opens as a map.

### Open a pivot table selection as a map

1.  In the pivot table, click a value.
    
    A menu displays.

2.  Click **Open selection as map**.
    
    Your selection opens as a map.

# Using the Data Visualizer app

## About the Data Visualizer app

![](resources/images/visualizer/column_chart.png)

With the **DataVisualizer** app, you can select content, for example
indicators, data elements, periods and organisation units, for an
analysis. The app works well over poor Internet connections and
generates charts in the web browser.

> **Tip**
> 
>   - Hide and show individual data series in the chart by clicking
>     directly on the series label in the chart. They appear either at
>     the top or to the right of the chart.
> 
>   - Click the triple left-arrow button on the top centre menu. This
>     collapses the left side menu and gives more space for the chart.
>     You can get the menu back by clicking on the same button again.

## Create a chart

1.  Open the **Data Visualizer** app and select a chart type.

2.  In the menu to the left, select the metadata you want to analyse.
    You must select one or more elements from all of the three
    dimensions - data (indicators, data elements, reporting rates),
    periods (relative, fixed) and organisation units (units or groups).
    
    > **Note**
    > 
    > If you've access to the system settings, you can change the
    > default period type under **General settings \> Default relative
    > period for analysis.**
    
    **Last 12 Months** from the period dimension and the root
    organisation unit are selected by default.

3.  Click **Layout** and arrange the dimensions.
    
    You can keep the default selection if you want.

4.  Click **Update**.

## Select a chart type

The **Data Visualizer** app has nine different chart types, each with
different characteristics. To select a chart type:

1.  In **Chart type**, click the chart type you need.
    
    <table>
    <caption>Chart types</caption>
    <colgroup>
    <col style="width: 33%" />
    <col style="width: 66%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Chart type</p></th>
    <th><p>Description</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p>Column chart</p></td>
    <td><p>Displays information as vertical rectangular columns with lengths proportional to the values they represent.</p>
    <p>Useful when you want to, for example, compare performance of different districts.</p></td>
    </tr>
    <tr class="even">
    <td><p>Stacked column chart</p></td>
    <td><p>Displays information as vertical rectangular columns, where bars representing multiple categories are stacked on top of each other.</p>
    <p>Useful when you want to, for example, display trends or sums of related data elements.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Bar chart</p></td>
    <td><p>Same as column chart, only with horizontal bars.</p></td>
    </tr>
    <tr class="even">
    <td><p>Stacked bar chart</p></td>
    <td><p>Same as stacked column chart, only with horizontal bars.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Line chart</p></td>
    <td><p>Displays information as a series of points connected by straight lines. Also referred to as time series.</p>
    <p>Useful when you want to, for example, visualize trends in indicator data over multiple time periods.</p></td>
    </tr>
    <tr class="even">
    <td><p>Area chart</p></td>
    <td><p>Is based on line chart, with the space between the axis and the line filled with colors and the lines stacked on top of each other.</p>
    <p>Useful when you want to compare the trends of related indicators.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Pie chart</p></td>
    <td><p>Circular chart divided into sectors (or slices).</p>
    <p>Useful when you want to, for example, visualize the proportion of data for individual data elements compared to the total sum of all data elements in the chart.</p></td>
    </tr>
    <tr class="even">
    <td><p>Radar chart</p></td>
    <td><p>Displays data on axes starting from the same point. Also known as spider chart.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Speedometer chart</p></td>
    <td><p>Semi-circle chart which displays values out of 100 %. Also referred to as a gauge chart.</p></td>
    </tr>
    </tbody>
    </table>

2.  Click **Update**.

## Select dimension items

A dimension refers to the elements which describe the data values in the
system. There are three main dimensions in the system:

  - Data: Includes data elements, indicators and datasets (reporting
    rates), describing the phenomena or event of the data.

<!-- end list -->

  - Periods: Describes when the event took place.

<!-- end list -->

  - Organisation units: Describes where the event took place.

The Data Visualizer app lets you use these dimensions completely
flexible in terms of appearing as series, categories and filter.

> **Note**
> 
> You can select dimension items in different ways:
> 
>   - Double-click a dimension item name.
> 
>   - Highlight one or several dimension items and click the
>     single-arrow.
> 
>   - To select all dimension items in a list, click the double-arrow.
> 
>   - To clear dimension items, use the arrows or double-click the names
>     in the **Selected** list.

### Select indicators

The Data Visualizer app can display any number of indicators and data
elements ina chart. You can select both indicators and data elements to
appear together in the same chart, with their order of appearance the
same as the order in which they are selected.

1.  Click **Data** and select **Indicators**.

2.  Select an indicator group.
    
    The indicators in the selected group appear in the **Available**
    list.

3.  Select one or several indicators by double-clicking the name.
    
    The indicator moves to the **Selected** list.

### Select data elements

The Data Visualizer app can display any number of indicators and data
elements ina chart. You can select both indicators and data elements to
appear together in the same chart, with their order of appearance the
same as the order in which they are selected.

1.  Click **Data** and select **Data elements**.

2.  Select a data element group.
    
    The data elements in the selected group appear in the **Available**
    list.

3.  Select one or several data elements by double-clicking the name.
    
    The data element moves to the **Selected** list.

### Select reporting rates

The Data Visualizer app can display reporting rates in a chart, by
itself or together with indicators and data elements. Reporting rates
are defined by data sets.

1.  Click **Data** and select **Reporting rates**.
    
    The reporting rates appear in the **Available** list.

2.  Select one or several reporting rates by double-clicking the name.
    
    The reporting rate moves to the **Selected** list.

### Select fixed and relative periods

1.  Click **Periods**.

2.  Select one or several periods.
    
    You can combine fixed periods and relative periods in the same
    chart. Overlapping periods are filtered so that they only appear
    once.
    
      - Fixed periods: In the **Select period type** box, select a
        period type. You can select any number of fixed periods from any
        period type.
    
    <!-- end list -->
    
      - Relative periods: In the lower part of the **Periods** section,
        select as many relative periods as you like. The names are
        relative to the current date. This means that if the current
        month is March and you select **Last month**, the month of
        February is included in the chart.

### Select organisationunits

1.  Click **Organisation units**.

2.  Click the gearbox icon.

3.  Select a **Selection mode** and an organisation unit.
    
    There are three different selection modes:
    
    <table>
    <caption>Selection modes</caption>
    <colgroup>
    <col style="width: 38%" />
    <col style="width: 61%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Selection mode</p></th>
    <th><p>Description</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p><strong>Select organisation units</strong></p></td>
    <td><p>Lets you select the organisation units you want to appear in the chart from the organization tree.</p>
    <p>Select <strong>User org unit</strong> to disable the organisation unit tree and only select the organisation unit that is related to your profile.</p>
    <p>Select <strong>User sub-units</strong> to disable the organisation unit tree and only select the sub-units of the organisation unit that is related to your profile.</p>
    <p>Select <strong>User sub-x2-units</strong> to disable the organisation unit tree and only select organisation units two levels down from the organisation unit that is related to your profile.</p>
    <p>This functionality is useful for administrators to create a meaningful &quot;system&quot; favorite. With this option checked all users find their respective organisation unit when they open the favorite.</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Select levels</strong></p></td>
    <td><p>Lets you select all organisation units at one or more levels, for example national or district level.</p>
    <p>You can also select the parent organisation unit in the tree, which makes it easy to select for example, all facilities inside one or more districts.</p></td>
    </tr>
    <tr class="odd">
    <td><p><strong>Select groups</strong></p></td>
    <td><p>Lets you select all organisation units inside one or several groups and parent organisation units at the same time, for example hospitals or chiefdoms.</p></td>
    </tr>
    </tbody>
    </table>

4.  Click **Update**.

### Select additional dimension items

Depending on the settings for your organisation unit group sets and data
element group sets, you can select additional dimension items from the
left menu.

Here you can add dimension items such as age, sex, etc. without having
to add them as detailed data element selections. This is useful when you
want to separate these categories in your analysis.

The additional dimension items you select are available in **Chart
layout** as dimensions.

## Select series, category and filter

![](resources/images/visualizer/chart_layout.png)

You can define which dimension of the data you want to appear as series,
category and filter.

1.  Click **Layout**.

2.  Drag and drop the dimensions to the appropriate space. Only one
    dimension can be in each section.

3.  Click **Update**.

![](resources/images/visualizer/series_category_filter.png)

  - Series: A series is a set of continuous, related elements (for
    example periods or data elements) which you want to visualize in
    order to emphasize trends or relations in its data.

  - Categories: A category is a set of elements (for example indicators
    or organisation units) for which you want to compare its data.

  - Filter: The filter selection will filter the data displayed in the
    chart. Note that if you use the data dimension as filter, you can
    only specify a single indicator or data set as filter item, whereas
    with other dimension types you can select any number of items.

\</example\>

## Change the display of your chart

1.  Click **Options**.

2.  Set the options as required.
    
    <table style="width:100%;">
    <caption>Chart options</caption>
    <colgroup>
    <col style="width: 23%" />
    <col style="width: 33%" />
    <col style="width: 42%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Option</p></th>
    <th><p>Description</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p><strong>Data</strong></p></td>
    <td><p><strong>Show values</strong></p></td>
    <td><p>Shows the values above the series in the chart.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Use 100% stacked values</strong></p></td>
    <td><p>Displays 100 % stacked values in column charts.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Use cumulative values</strong></p></td>
    <td><p>Displays cumulative values in line charts.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Hide empty categories</strong></p></td>
    <td><p>Hides the category items with no data from the chart.</p>
    <p><strong>None</strong>: doesn't hide any of the empty categories</p>
    <p><strong>Before first</strong>: hides missing values only before the first value</p>
    <p><strong>After last</strong>: hides missing values only after the last value</p>
    <p><strong>Before first and after last</strong>: hides missing values only before the first value and after the last value</p>
    <p><strong>All</strong>: hides all missing values</p>
    <p>This is useful for example when you create column and bar charts.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Trend line</strong></p></td>
    <td><p>Displays the trend line which visualizes how your data evolves over time. For example if performance is improving or deteriorating. Useful when periods are selected as category.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td></td>
    <td><p>Displays a horizontal line at the given domain value. Useful for example when you want to compare your performance to the current target.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Base line value/title</strong></p></td>
    <td><p>Displays a horizontal line at the given domain value. Useful for example when you want to visualize how your performance has evolved since the beginning of a process.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Sort order</strong></p></td>
    <td><p>Allows you to sort the values on your chart from either low to high or high to low.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Aggregation type</strong></p></td>
    <td><p>Defines how the data elements or indicators will be aggregated within the chart. Some of the aggregation types are <strong>By data element</strong>, <strong>Count</strong>, <strong>Min</strong> and <strong>Max</strong>.</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Events</strong></p></td>
    <td><p><strong>Include only completed events</strong></p></td>
    <td><p>Includes only completed events in the aggregation process. This is useful when you want for example to exclude partial events in indicator calculations.</p></td>
    </tr>
    <tr class="odd">
    <td><p><strong>Axes</strong></p></td>
    <td><p><strong>Range axis min/max</strong></p></td>
    <td><p>Defines the maximum and minimum value which will be visible on the range axis.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Range axis tick steps</strong></p></td>
    <td><p>Defines the number of ticks which will be visible on the range axis.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Range axis decimals</strong></p></td>
    <td><p>Defines the number of decimals which will be used for range axis values.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Range axis title</strong></p></td>
    <td><p>Type a title here to display a label next to the range axis (also referred to as the Y axis). Useful when you want to give context information to the chart, for example about the unit of measure.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Domain axis title</strong></p></td>
    <td><p>Type a title here to display a label below the domain axis (also referred to as the X axis). Useful when you want to give context information to the chart, for example about the period type.</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Style</strong></p></td>
    <td><p><strong>No space between columns/bars</strong></p></td>
    <td><p>Removes the space between the columns or bars in the chart. Useful for displaying the chart as an EPI curve.</p></td>
    </tr>
    <tr class="odd">
    <td><p><strong>General</strong></p></td>
    <td><p><strong>Hide chart legend</strong></p></td>
    <td><p>Hides the legend and leaves more room for the chart itself.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Hide chart title</strong></p></td>
    <td><p>Hides the title (default or custom) of your chart.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Chart title</strong></p></td>
    <td><p>Type a title here to display a custom title above the chart. If you don't enter a title, the default title is displayed.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Hide chart subtitle</strong></p></td>
    <td><p>Hides the subtitle of your chart.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Chart subtitle</strong></p></td>
    <td><p>Type a subtitle here to display a custom subtitle above the chart but below the title. If you don't enter a subtitle, no subtitle is displayed in the chart.</p></td>
    </tr>
    </tbody>
    </table>

3.  Click **Update**.

## Manage favorites

Saving your charts or pivot tables as favorites makes it easy to find
them later. You can also choose to share them with other users as an
interpretation or display them on the dashboard.

You view the details and interpretations of your favorites in the
**Pivot Table**, **Data Visualizer**, **Event Visualizer**, **Event
Reports** apps. Use the **Favorites** menu to manage your favorites.

### Open a favorite

1.  Click **Favorites** \> **Open**.

2.  Enter the name of a favorite in the search field, or click **Prev**
    and **Next** to display favorites.

3.  Click the name of the favorite you want to open.

### Save a favorite

1.  Click **Favorites** \> **Save as**.

2.  Enter a **Name** and a **Description** for your favorite.

3.  Click **Save**.

### Rename a favorite

1.  Click **Favorites** \> **Rename**.

2.  Enter the new name for your favorite.

3.  Click **Update**.

### Write an interpretation for a favorite

An interpretation is a link to a resource with a description of the data
at a given period. This information is visible in the **Dashboard** app.
To create an interpretation, you first need to create a favorite. If
you've shared your favorite with other people, the interpretation you
write is visible to those people.

1.  Click **Favorites** \> **Write interpretation**.

2.  In the text field, type a comment, question or interpretation. You
    can also mention other users with '@username'. Start by typing '@'
    plus the first letters of the username or real name and a mentioning
    bar will display the available users. Mentioned users will receive
    an internal DHIS2 message with the interpretation or comment. You
    can see the interpretation in the **Dashboard** app.

3.  Search for a user group that you want to share your favorite with,
    then click the **+** icon.

4.  Change sharing settings for the user groups you want to modify.
    
      - **Can edit and view**: Everyone can view and edit the object.
    
      - **Can view only**: Everyone can view the object.
    
      - **None**: The public won't have access to the object. This
        setting is only applicable to **Public access**.

5.  Click **Share**.

### Subscribe to a favorite

When you are subscribed to a favorite, you receive internal messages
whenever another user likes/creates/updates an interpretation or
creates/update an interpretation comment of this favorite.

1.  Open a favorite.

2.  Click **\>\>\>** in the top right of the workspace.

3.  Click on the upper-right bell icon to subscribe to this favorite.

### Create a link to a favorite

1.  Click **Favorites** \> **Get link**.

2.  Select one of the following:
    
      - **Open in this app**: You get a URL for the favorite which you
        can share with other users by email or chat.
    
      - **Open in web api**: You get a URL of the API resource. By
        default this is an HTML resource, but you can change the file
        extension to ".json" or ".csv".

### Delete a favorite

1.  Click **Favorites** \> **Delete**.

2.  Click **OK**.

### View interpretations based on relative periods

To view interpretations for relative periods, such as a year ago:

1.  Open a favorite with interpretations.

2.  Click **\>\>\>** in the top right of the workspace.

3.  Click an interpretation. Your chart displays the data and the date
    based on when the interpretation was created.To view other
    interpretations, click them.

## Download a chart as an image or a PDF

After you have created a chart you can download it to your local
computer as an image or PDF file.

1.  Click **Download**.

2.  Under **Graphics**, click **Image (.png)** or **PDF (.pdf)**.
    
    The file is automatically downloaded to your computer. Now you can
    for example embed the image file into a text document as part of a
    report.

## Download chart data source

You can download the data source behind a chart in JSON, XML, Excel,
CSV, JXRML or Raw data SQL formats with different identification schemes
(ID, Code, and Name). The data document uses identifiers of the
dimension items and opens in a new browser window to display the URL of
the request to the Web API in the address bar. This is useful for
developers of apps and other client modules based on the DHIS2 Web API
or for those who require a plan data source, for instance for import
into statistical packages.

To download plain data source formats:

1.  Click **Download**.

2.  Under **Plain data source**, click the format you want to download.
    
    <table>
    <caption>Available formats</caption>
    <colgroup>
    <col style="width: 18%" />
    <col style="width: 33%" />
    <col style="width: 47%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Format</p></th>
    <th><p>Action</p></th>
    <th><p>Description</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p>JSON</p></td>
    <td><p>Click <strong>JSON</strong></p></td>
    <td><p>Downloads JSON format based on ID property.</p>
    <p>You can also download JSON format based on <strong>Code</strong> or <strong>Name</strong> property.</p></td>
    </tr>
    <tr class="even">
    <td><p>XML</p></td>
    <td><p>Click <strong>XML</strong></p></td>
    <td><p>Downloads XML format based on ID property.</p>
    <p>You can also download XML format based on <strong>Code</strong> or <strong>Name</strong> property.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Microsoft Excel</p></td>
    <td><p>Click <strong>Microsoft Excel</strong></p></td>
    <td><p>Downloads Microsoft Excel format based on ID property.</p>
    <p>You can also download Microsoft Excel format based on <strong>Code</strong> or <strong>Name</strong> property.</p></td>
    </tr>
    <tr class="even">
    <td><p>CSV</p></td>
    <td>Click <strong>CSV</strong></td>
    <td><p>Downloads CSV format based on ID property.</p>
    <p>You can also download CSV format based on <strong>Code</strong> or <strong>Name</strong> property.</p></td>
    </tr>
    <tr class="odd">
    <td><p>JRXML</p></td>
    <td><p>Put the cursor on <strong>Advanced</strong> and click <strong>JRXML</strong></p></td>
    <td><p>Produces a template of a Jasper Report which can be further customized based on your exact needs and used as the basis for a standard report in DHIS 2.</p></td>
    </tr>
    <tr class="even">
    <td><p>Raw data SQL</p></td>
    <td><p>Put the cursor on <strong>Advanced</strong> and click <strong>Raw data SQL</strong></p></td>
    <td><p>Provides the actual SQL statement used to generate the data visualization. You can use it as a data source in a Jasper report, or as the basis for a SQL view.</p></td>
    </tr>
    </tbody>
    </table>

## Embed charts in any web page

Certain analysis-related resources in DHIS2, like pivot tables, charts
and maps, can be embedded in any web page by using a plug-in. You will
find more information about the plug-ins in the Web API chapter in the
*DHIS2 Developer Manual*.

To generate a HTML fragment that you can use to display the chart in an
external web page:

1.  Click **Share** \> **Embed in web page**.
    
    The **Embed in web page** window opens.

2.  Click **Select** to highlight the HTML fragment.

## Open a chart as a pivot table or as a map

  - Open a **Chart** and click **Chart** or click **Map**.

# Using the GIS app

## About the GIS app

With the GIS app you can overlay multiple layers and choose among
different base maps. You can create thematic maps of areas and points,
view facilities based on classifications, and visualize catchment areas
for each facility. You can add labels to areas and points, and search
and filter using various criteria. You can move points and set locations
on the fly. Maps can be saved as favorites and shared with other people.

> **Note**
> 
> To use predefined legends in the **GIS** app, you need to create them
> first in the **Maintenance** app.

![](resources/images/gis/gis_main.png)

  - The icons in the top left of the workspace represent the map layers.
    They are the starting point of the **GIS** app.

  - The panel on the right side of the workspace shows an overview of
    the layers:
    
      - The default base map is OSM Light. It's selected by default. If
        you're online you'll also see OpenStreetMap, Google Streets and
        Google Hybrid. You can use these maps as background maps and
        layers. Switch between them by selecting or clearing the
        checkbox.
    
      - If you want to increase or reduce the opacity of a layer, use
        the up and down arrows for the selected layer.
    
      - Use the map legends when you create a thematic map. A legend
        explains the link between values and colors on your map.

<!-- end list -->

  - **Zoom to content** automatically adjusts the zoom level and map
    center position to put the data on your map in focus.

  - To view information for an event, simply click the event.

  - Right-click to display the longitude and latitude of the map.

## Create a new thematic map

You use four vector layers to create a thematic map. The workflow for
creating a new thematic map is:

1.  In the **Apps** menu, click **GIS**.
    
    The **DHIS2 GIS** window opens.

2.  In the top menu, click a layer you want to add to the map.
    
      - Event layer
    
      - Facility layer
    
      - Boundary layer
    
      - Thematic layer 1 - 4

3.  Click **Edit layer** and select the parameters you need..

4.  Click **Update**.

## Manage event layers

The event layer displays the geographical location of events registered
in the DHIS2 tracker. Provided that events have associated GPS
coordinates, you can use this layer to drill down from the aggregated
data displayed in the thematic layers to the underlying individual
events or cases.

You can also display aggregated events at the facility or at the
boundary level. You do this through a thematic layer using event data
items. This is useful when you only have the coordinates for the Org
Unit under which the events are recorded.


![](resources/images/gis/gis_event_layer.png)

### Create or modify event layer

1.  In the top menu, click the event layer icon.

2.  Click **Edit layer**.

3.  Select a program and then select a program stage.
    
    If there is only one stage available for the selected program, the
    stage is automatically selected. A list of data elements and
    attributes will appear in the **Available data items** panel.

4.  Select any data element or attribute from this list as part of your
    query.
    
      - To select you can either double-click a data element or (multi)
        select and use the single-arrow downward button. The
        double-arrow button will select all data elements in the list.
        All selected data elements will get their own row in the
        **Selected data items**.
    
      - For data elements of type text you will get two choices:
        **Contains** implies that the query will match all values which
        contains your search value, and **Is exact** implies that only
        values which is completely identical to your search query will
        be returned.
    
      - For data elements of type option set, you can select any of the
        options from the drop down box by using the down-wards arrow or
        by start typing directly in the box to filter for options.

5.  In the **Periods** section, select the time span for when the events
    took place. You can select either a fixed period or a relative
    period.
    
      - Fixed period: In the **Period** field, select **Start/end
        dates** and fill in a start date and an end date.
    
      - Relative period: In the **Period** field, select one of the
        relative periods, for example **This month** or **Last year**.

6.  In the **Organisation units** section, select the organisation units
    you want to include in the query.

7.  In the **Options** section, you can:
    
      - Select a value from the **Coordinate field** for the positions
        shown on the map. By default, "Event location" is selected.
        Depending on the data elements or attributes that belong to a
        program, other coordinates such as "Household position" are
        available.
        
        ![](resources/images/gis/gis_coordinates.png)
    
      - Select or clear **Clustering** to group nearby events.
    
      - Go to **Style** to select a color for the cluster points or
        change the radius of clusters (between 1 and 20).
    
    **Clustering** if you want to group nearby events and change the
    style of the cluster points.

8.  Click **Update**.

### Turn off cluster

By default events are clustered in a map. You can turn off this function
to display all events separately.

1.  In the top menu, click the event layer icon.

2.  Click **Edit layer**.

3.  Click **Options**.

4.  Clear **Group nearby events** check box.

5.  Click **Update**.

### Modify cluster style

1.  In the top menu, click the event layer icon.

2.  Click **Edit layer**.

3.  In the **Options** section, change the **Point color** and **Point
    radius**.

4.  Click **Update**.

### Modify information in event pop-up windows

For events in a cluster map, you can modify the information displayed in
the event pop-up window.

![](resources/images/gis/gis_eventlayer_eventinfopopup.png)

1.  Open the **Programs / Attributes** app.

2.  Click **Program**.

3.  Click the program you want to modify and select **View program
    stages**.

4.  Click the program stage name and select **Edit**.

5.  Scroll down to the **Selected data elements** section.

6.  For every data element you want to display in the pop-up window,
    select corresponding **Display in reports**.

7.  Click **Update**.

## Clear event layer

To clear all data in a map:

1.  In the top menu, click the event layer icon.

2.  Click **Clear**.

\</section\>

## Manage facility layers

The facility layer displays icons that represent types of facilities.
Polygons do not show up on the map, so make sure that you select an
organisation unit level that has facilities.

A polygon is an enclosed area on a map representing a country, a
district or a park. In GIS, a polygon is a shape defined by one or more
rings, where a ring is a path that starts and ends at the same point.


![](resources/images/gis/gis_facility_layer.png)

### Create or modify a facility layer

1.  In the top menu, click the facility layer icon.

2.  Click **Edit layer**.

3.  In the **Organisation unit group icons** section, select a **Group
    set**.

4.  In the **Organisation units** section, select one or several
    organisation units.

5.  In the **Options** section, select if you want to show labels and if
    so, how they look.

6.  In the **Options** section, select if you want to display a circle
    with a certain radius around each facility.

7.  Click **Update**.

### Search for an organisation unit

To locate an organisation unit in the map:

1.  In the top menu, click the facility layer icon.

2.  Click **Search**.
    
    The **Organisation unit search** dialog box opens.

3.  In the text field, type the name of the organisation unit you are
    looking for or click a name in the list.
    
    The organisation unit is highlighted in the map.

### Clear facility layer

To clear all data in a facility layer:

1.  In the top menu, click the facility layer icon.

2.  Click **Clear**.

## Manage facilities in a layer

You can have facilities in **Facility**, **Boundary** and **Thematic**
layers.

### Relocate a facility

1.  Right-click a facility and click **Relocate**.

2.  Put the cursor in the new location.
    
    The new coordinate is stored permanently. This cannot be undone.

### Swap longitude and latitude of a facility

1.  Right-click a facility and click **Swap long/lat**.
    
    This is useful if a user inverted latitude and longitude coordinates
    when creating the organisation unit.

### Display facility information

You can view organisation unit information set by the administrator as
follows:

<table>
<caption>View organisation unit information</caption>
<colgroup>
<col style="width: 40%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>View information for the current period</p></td>
<td><ol type="1">
<li><p>Click a facility.</p></li>
</ol></td>
</tr>
<tr class="even">
<td><p>View information for a selected period</p></td>
<td><ol type="1">
<li><p>Right-click a facility and click <strong>Show information</strong>.</p></li>
<li><p>In the <strong>Infrastructural data</strong> section, select a period.</p></li>
</ol>
<blockquote>
<p><strong>Note</strong></p>
<p>You configure the displayed infrastructural data in the <strong>System Settings</strong> app.</p>
</blockquote></td>
</tr>
</tbody>
</table>

## Manage thematic layers 1- 4

There are four thematic layers in the GIS app. With these layers panels
you can use your data for thematic mapping. Select your desired
combination of indicator/data element, and period. then the organisation
unit level. If your database has coordinates and aggregated data values
for these organisation units, they will appear on the map.

> **Note**
> 
> You must refresh the DHIS2 analytics tables to have aggregated data
> values available.


![](resources/images/gis/gis_thematic_mapping.png)

### Create or modify a thematic layer

1.  In the top menu, click the icon of the thematic layer you want to
    create or modify.

2.  Click **Edit layer**.

3.  In the **Data and periods** section, select the data and periods you
    want to display.

4.  In the **Organisation units** section, select one or several
    organisation units.

5.  In the **Options** section, go to **Legend type** and select
    Automatic or Predefined.
    
      - Automatic legend types means that the application will create a
        legend set for you based on your what method, number of classes,
        low color and high color you select. Method alludes to the size
        of the legend classes.
        
        Set to Equal intervals theywill be “highest map value – lowest
        map value / number of classes”.
        
        Set to Equal counts the legend creator will try to distribute
        the organisation units evenly.
        
        The legend appears as an even gradation from the start color to
        the end color.
    
      - If you have facilities in your thematic layer, you can set the
        radius for maximum and minimum values by changing the values in
        the **Low color / size** and **High color size** boxes.

6.  In the **Options** section, select if you want to show labels and if
    so, how they look.

7.  In the Options panel, select an aggregation type. See also
    [Aggregation
    operators](https://dhis2.github.io/dhis2-docs/master/en/user/html/ch10s05.html#d0e8082).

8.  Click **Update**.

### Filter values in a thematic layer

Thematic layer 1-4 menu have a **Filter** option in addition to the
boundary layer menu options. It lets you apply value filters to the
organisation units on the map. The filter is removed when you close the
filter window.

To filter values in a thematic layer:

1.  In the top menu, click the icon of thematic layer you want to create
    or modify.

2.  Click **Filter...**.

3.  Modify the **Greater than** and **And/or lower than** values.

4.  Click **Update**.

### Search for an organisation unit

To locate an organisation unit in a thematic layer:

1.  In the top menu, click the relevant thematic layer icon.

2.  Click **Search**.
    
    The **Organisation unit search** dialog box opens.

3.  In the text field, type the name of the organisation unit you are
    looking for or click a name in the list.
    
    The organisation unit is highlighted in the map.

### Navigate between organisation hierarchies

When there are visible organisation units on the map, you can easily
navigate up and down in the hierarchy without using the level/parent
user interface.

1.  Right-click one of the organisation units.

2.  Select **Drill up** or **Drill down**.
    
    The drill down option is disabled if you are on the lowest level or
    if there are no coordinates available on the level below. Vice versa
    goes for drilling up.

### Clear thematic layer

To clear all data in a thematic layer:

1.  In the top menu, click the relevant thematic layer icon.

2.  Click **Clear**.

## Manage boundary layers

The boundary layer displays the borders and locations of your
organisation units. This layer is useful if you are offline and don't
have access to background maps.


![](resources/images/gis/gis_bound_layers.png)

### Create or modify boundary layers

1.  In the top left menu, click the boundary layer icon.

2.  Click **Edit layer**.

3.  In the **Organisation units** section, select one or several
    organisation units.
    
    You can select the organisation units you want to show on the map by
    selecting a level and a parent. That means "show all organisations
    units at this level that are children of this parent".

4.  In the **Options** section, select if you want to show labels and if
    so, how they look.

5.  Click **Update**.

### Search for organisation units

To locate an organisation unit on the map:

1.  In the top menu, click the boundary layer icon.

2.  Click **Search**.
    
    The **Organisation unit search** dialog box opens.

3.  In the text field, type the name of the organisation unit you are
    looking for or click a name in the list.
    
    The organisation unit is highlighted in the map.

### Navigate between organisation hierarchies

When there are visible organisation units on the map, you can easily
navigate up and down in the hierarchy without using the level/parent
user interface.

1.  Right-click one of the organisation units.

2.  Select **Drill up** or **Drill down**.
    
    The drill down option is disabled if you are on the lowest level or
    if there are no coordinates available on the level below. The same
    applies when you are drilling up.

### Clear boundary layer

To clear data in a boundary layer:

1.  In the top menu, click the boundary layer icon.

2.  Click **Clear**.

## Manage Earth Engine layer


![](resources/images/gis/gis_earth_eng_layer.png)

The Google Earth Engine layer lets you display satellite imagery and
geospatial datasets from Google's vast catalog. This layeris useful in
combination with thematic and event layers to enhance analysis. The
following layers are supported:Elevation: Metres above sea level
Nighttime lights: Lights from cities, towns, and other sites with
persistent lighting, including gas flares (from 2013) Population
density: Population in 100 x 100 m grid cells (from 2010) Temperature,
population and land cover at any location. Right-click on the layers to
view more information, for example temperature and elevation.

\</listitem\> \</itemizedlist\>

### Create or modify an Earth Engine layer

1.  In the top menu, click the **Google Earth Engine** layer icon.

2.  Select a data set, for example "Elevation".

3.  Select **Min / max value**.
    
    The meaning of these values depend on which data set you've
    selected.

4.  Select a **Color scale**.

5.  Select the number of **Steps**.
    
    The number of steps means the number of distinct colors in the color
    scale.

6.  Click **Update**.

## Add external map layers

1.  In the top menu, click the **External layer** icon.

2.  Click **Edit** to add a new layer.

3.  Select a layer from the list.
    
    
    ![](resources/images/gis/gis_external_layers1.png)

4.  Click **Update**.
    
    To remove a layer, click **Clear**.
    
    To hide a layer, go to the **Layer stack/opacity** menu pane and
    clear the **External layer** checkbox.

Here are some examples of external layers:


![](resources/images/gis/gis_administrative_boundaries.png)

![](resources/images/gis/gis_aerial_imagery.png)

![](resources/images/gis/gis_black_basemap_and_nighttime_lights.png)

![](resources/images/gis/gis_world_time_zones.png)

> **Note**
> 
> To define external map layers, see the [Maintenance app
> documentation](https://dhis2.github.io/dhis2-docs/master/en/user/html/manage_ext_maplayer.html).

## Manage map favorites


![](resources/images/gis/gis_favorites.png)

Saving your maps as favorites makes it easy to restore them later. It
also gives you the opportunity to share them with other users as an
interpretation or put it on the dashboard. You can save all types of
layers as a favorite. A favorite always opens with the default
background map.

### Save a map as a favorite

When you have created a map it is convenient to save it as a favorite:

1.  Click **Favorites**.
    
    The **Manage favorites** dialog box opens.

2.  Click **Add new**.
    
    The **Create new favorite** dialog box opens.

3.  In the text field, type the name you want to give your pivot table.

4.  Click **Create**.
    
    Your favorite is added to the list.

### Open a favorite

1.  Click **Favorites**.
    
    The **Manage favorites** dialog box opens.

2.  Find the favorite you want to open. You can either use **Prev** and
    **Next** or the search field to find a saved favorite. The list is
    filtered on every character that you enter.

3.  Click the name.

### Rename a favorite

1.  Click **Favorites**.
    
    The **Manage favorites** dialog box opens.

2.  Find the favorite you want to rename.
    
    You can either use **Prev** and **Next** or the search field to find
    a saved favorite.

3.  Click the grey rename icon next to the favorite's name.
    
    The **Rename favorite** dialog box favorite opens.

4.  Type the new name and click **Update**.

### Overwritea favorite

To save the current map to an existing favorite (overwrite):

1.  Click **Favorites**.
    
    The **Manage favorites** dialog box opens.

2.  Find the favorite you want to overwrite.
    
    You can either use **Prev** and **Next** or the search field to find
    a saved favorite.

3.  Click the green overwrite icon next to the favorite's name.

4.  Click **OK** to confirm that you want to overwrite the favorite.

### Share a map interpretation

For certainanalysis-related resources in DHIS2, you can share a data
interpretation. An interpretation is a link to the relevant resource
together with a text expressing some insight about the data.

To create an interpretation of a map and share it with all users of the
system:

1.  Open or create a favorite map.

2.  Click **Share** \> **Write interpretation**.
    
    The **Write interpretation** dialog box opens.

3.  In the text field, type a comment, question or interpretation.

4.  Click **Share**.
    
    The dialog box closes automatically. You can see the interpretation
    on the **Dashboard**.

### Modify sharing settingsfor a favorite

After you have created a map and saved it as a favorite, you can share
the favorite with everyone or a user group. To modify the sharing
settings:

1.  Click **Favorites**.

2.  Find the favorite you want to share.
    
    You can either use **Prev** and **Next** or the search field to find
    a saved favorite.

3.  Click the blue share icon next to the favorite's name.

4.  In the text box, enter the name of the user group you want to share
    your favorite with and click the **+** icon.
    
    The chosen user group is added to the list of recipients.
    
    Repeat the step to add more user groups.

5.  If you want to allow external access, select the corresponding box.

6.  For each user group, choose an access setting. The options are:
    
      - None
    
      - Can view
    
      - Can edit and view

7.  Click **Save**.

### Delete a favorite

1.  Click **Favorites**.
    
    The **Manage favorites** dialog box opens.

2.  Find the favorite you want to delete.
    
    You can either use **Prev** and **Next** or the search field to find
    a saved favorite.

3.  Click the red delete icon next to the favorite's name.

4.  Click **OK** to confirm that you want to delete the favorite.

## Save a map as an image

1.  Take a screenshot of the map with the tool of your choice.

2.  Save the screenshot in desired format.

## Embed a map in an external web page

Certain analysis-related resources in DHIS2, like pivot tables, charts
and maps, can be embedded in any web page by using a plug-in. You will
find more information about the plug-ins in the Web API chapter in the
*DHIS2 Developer Manual*.

To generate a HTML fragment that you can use to display the map in an
external web page:

1.  Click **Share** \> **Embed in web page**.
    
    The **Embed in web page** window opens.

2.  Click **Select** to highlight the HTML fragment.

## Search for a location

The place search function allows you to search for almost any location
or address. The place search is powered by the Mapzen mapping platform.
This function is useful in order to locate for example sites,
facilities, villages or towns on the map.


![](resources/images/gis/gis_place_search.png)

1.  On the left side of the GIS window, click the magnifier icon.

2.  Type the location you're looking.
    
    A list of matching locations appear as you type.

3.  From the list, select a location. A pin indicates the location on
    the map.

## Measure distances and areas in a map

1.  In the upper left part of the map, put the cursor on the **Measure
    distances and areas** icon and click **Create new measurement**.

2.  Add points to the map.

3.  Click **Finish measurement**.

## Get the latitude and longitude at any location

Right-click a map and select **Show longitude/latitude**. The values
display in a pop-up window.


![](resources/images/gis/gis-latitude-longitude.png)

## View a map as a pivot table or chart

When you have made a map you can switch between pivot table, chart and
map visualization of your data. The function is inactive if the data the
map is based on cannot render as a chart or table.

### Open a map as a chart

1.  Click **Chart** \> **Open this map as chart**.
    
    Your current map opens as a chart.

### Open a map as a pivot table

1.  Click **Chart** \> **Open this map as table**.
    
    Your current map opens as a pivot table.

## See also

  - [Manage
    legends](https://docs.dhis2.org/master/en/user/html/manage_legend.html)

# Using the Maps app

## About the Maps app

The Maps App is introduced in release 2.29 and serves as a replacement
of the GIS App offering a more intuitive and user-friendly interface.

With the Maps app you can overlay multiple layers and choose among
different base maps. You can create thematic maps of areas and points,
view facilities based on classifications, and visualize catchment areas
for each facility. You can add labels to areas and points, and search
and filter using various criteria. You can move points and set locations
on the fly. Maps can be saved as favorites and shared with other users
and groups.

> **Note**
> 
> To use predefined legends in the **Maps** app, you need to create them
> first in the **Maintenance** app.

![](resources/images/maps/maps_main.png)

  - The **layer panel** on the left side of the workspace shows an
    overview of the layers for the current map:
    
      - As layers are added, using the **(+) Add layer** button, they
        are arranged and managed in this panel.
    
      - The **basemap** is always shown in the panel. The default
        basemap is OSM Light and is selected by default. OpenStreetMap
        Detailed, Google Streets and Google Hybridare also available.
        You can use these maps as background maps and layers. Switch
        between them by selecting the desired image.
    
      - The small arrow button to the right of the layer panel, at the
        top, allows the panel to be hidden or shown.

<!-- end list -->

  - The **File** button near the top left allows you to open and save
    maps:
    
      - New  
        will clear any existing map layers to create a new map.
    
      - Open  
        will display a dialog box with a list of existing maps where
        they be opened, renamed, shared and deleted. *The title of the
        current map is displayed in the header bar above the File
        button.*
    
      - Save  
        will save any changes to the current map.
    
      - Save as  
        will save the current map with a new name.
    
      - Rename  
        allows you to change the name and/or description of the current
        map.
    
      - Translate  
        allows you to translate the name and/or description of the
        current map.
    
      - Share  
        will open a dialog where the current map can be shared with
        everyone or a group of users.
    
      - Get link  
        will provide a direct link to the current map.
    
      - Delete  
        deletes the current map.

<!-- end list -->

  - The **Interpretations** button at top right opens an interpretations
    panel on the right side of the workspace. The button is only
    clickable if the map is saved.
    
      - **Details** shows information about the current map.
    
      - **Interpretations** allows you to view, add, edit and share
        interpretations about the current map.

<!-- end list -->

  - The **+** and **-**buttons on the map allow you to zoom in and out
    of the map respectively. The mouse scroll wheel can also be used for
    altering the zoom.

  - **Zoom to content** (bounded magnifying glass symbol) automatically
    adjusts the zoom level and map center position to put the data on
    your map in focus.

  - **Search** (magnifying glass symbol) allows searching for and
    jumping to a location on the map.

  - The **ruler** button allows you to find the distance between two
    locations on the map.

  - To view information for an event, simply click the event.

  - Right-click on the map to display the longitude and latitude of that
    location.

  - The home icon on the top right of the workspace will take you back
    to the DHIS2 dashboard.

  - The About button will display system version information.

**Basemaps**

Basemap layers are represented by layer *cards* in the layer panel such
as:


![](resources/images/maps/maps_basemap_card.png)

Along the top of the basemap card from left to right are:

  - The title of the selected basemap

  - An eye symbol for toggling the visibility of the layer

  - An arrow symbol to collapse and expand the basemap card

In the middle of the basemap card is the list of available basemaps. The
current basemap is highlighted.

Along the bottom of the basemap card is:

  - A slider for modifying the layer transparency

## Create a new map

1.  In the **Apps** menu, click **Maps**. The **DHIS2 Maps** window
    opens.

2.  Click the (+) Add layer button in the top left. You are presented
    with the layer selection dialog:
    
    ![](resources/images/maps/maps_layer_selection.png)

3.  Select a layer to add to the current map. Possible options are:
    
      - [Events](#using_maps_event_layer)
    
      - [Tracked entities](#using_maps_tracked_entity_layer)
    
      - [Facilities](#using_maps_facility_layer)
    
      - [Thematic](#using_maps_thematic_layer)
    
      - [Boundaries](#using_maps_thematic_layer)
    
    In addition, there are several layers provided by Google Earth
    Engine and other services:
    
      - Population density
    
      - Elevation
    
      - Temperature
    
      - Precipitation
    
      - Landcover
    
      - Nighttime lights
    
    *Labels overlay* is an [external
    layer](#using_maps_external_map_layers) defined in the database used
    for the above example

## Manage event layers

The event layer displays the geographical location of events registered
in the DHIS2 tracker. Provided that events have associated GPS
coordinates, you can use this layer to drill down from the aggregated
data displayed in the thematic layers to the underlying individual
events or cases.

You can also display aggregated events at the facility or at the
boundary level. You do this through a thematic layer using event data
items. This is useful when you only have the coordinates for the Org
Unit under which the events are recorded.

![](resources/images/maps/maps_event_layer.png)

Event layers are represented by layer *cards* in the layer panel such
as:

Along the top of the event card from left to right are:

  - A grab field to allow dragging and re-ordering layers with the mouse

  - The title and period associated with the layer

  - An eye symbol for toggling the visibility of the layer

  - An arrow symbol to collapse and expand the event card

In the middle of the event card is a legend indicating the styling of
the layer.

Along the bottom of the event card from left to right are:

  - An edit (pencil) button to open the layer configuration dialog

  - A slider for modifying the layer transparency

  - A delete (trash can) icon to remove the layer from the current
    thematic map.

### Create an event layer

To create an event layer, choose **Events** on the **Add
layer**selection. This opens the Events layer configuration dialog.

1.  In the **DATA** tab:
    
    ![](resources/images/maps/maps_event_layer_dialog_DATA.png)
    
      - Select a program and then select a program stage. The **Stage**
        field is only shown once a program is selected.
        
        If there is only one stage available for the selected program,
        the stage is automatically selected.
    
      - Select a value from the **Coordinate field** for the positions
        shown on the map. By default, "Event location" is selected.
        Depending on the data elements or attributes that belong to a
        program, other coordinates such as "Household position" are
        available.

2.  In the **PERIOD** tab
    
    ![](resources/images/maps/maps_event_layer_dialog_PERIOD.png)
    
      - select the time span for when the events took place. You can
        select either a fixed period or a relative period.
        
          - Fixed period  
            In the **Period** field, select **Start/end dates** and fill
            in a start date and an end date.
        
          - Relative period  
            In the **Period** field, select one of the relative periods,
            for example **This month** or **Last year**.

3.  In the **FILTER** tab:
    
    ![](resources/images/maps/maps_event_layer_dialog_FILTER.png)
    
      - Click ADD FILTER and select an available data item to add a new
        filter to the data set.
        
          - For data item of type *text* you will get two choices:
            **Contains** implies that the query will match all values
            which contains your search value, and **Is exact** implies
            that only values which is completely identical to your
            search query will be returned.
        
          - For data item of type *option set*, you can select any of
            the options from the drop down box by using the down-wards
            arrow or by start typing directly in the box to filter for
            options.
        
        Multiple filters may be added. Click the X on the far right of
        the filter to remove it.

4.  In the **ORG UNITS** tab:
    
    ![](resources/images/maps/maps_event_layer_dialog_ORG_UNITS.png)
    
      - Select the organisation units you want to include in the layer.
        It is possible to select either
        
          - One or more specific organisation units, or
        
          - A relative level in the organisation unit hierarchy, with
            respect to the user. By selecting a **User organisation
            unit** the map data will appear differently for users at
            different levels in the organisation unit hierarchy.

5.  In the **STYLE** tab:
    
    ![](resources/images/maps/maps_event_layer_dialog_STYLE.png)
    
      - Select **Group events** to group nearby events (cluster), or
        **View all events** to display events individually.
    
      - Select a **color** for the event or cluster points.
    
      - Select the **radius** (between 1 and 20) for the events.
    
      - Select **Show buffer** to display visual buffer around each
        event. The radius of the buffer can be modified here. This
        option is only available if you select **View all events**
        above.

6.  Click **ADD LAYER**.

### Modify an event layer

1.  In the layer panel, click the edit (pencil) icon on the event layer
    card.

2.  Modify the setting on the DATA, PERIOD, FILTER, ORG UNIT and STYLE
    tabs as desired.

3.  Click **UPDATE LAYER**.

### Modify information in event pop-up windows

For events in a cluster map, you can modify the information displayed in
the event pop-up window.


![](resources/images/maps/maps_eventlayer_eventinfopopup.png)

1.  Open the **Programs / Attributes** app.

2.  Click **Program**.

3.  Click the program you want to modify and select **View program
    stages**.

4.  Click the program stage name and select **Edit**.

5.  Scroll down to the **Selected data elements** section.

6.  For every data element you want to display in the pop-up window,
    select corresponding **Display in reports**.

7.  Click **Update**.

### Clear event layer

To clear all event layer data in a map:

1.  In the layer panel, click the delete (trash can) icon on the event
    layer card.
    
    The layer is removed from the current map.

## Manage tracked entity layers

The tracked entity layer displays the geographical location of tracked
entities registered in the DHIS2. Provided that tracked entities have
associated point or polygon coordinates, you can explore these on a map.

![](resources/images/maps/maps_tracked_entity_layer.png)

Tracked entity layers are represented by layer cards in the layer panel
such as:

Along the top of the tracked entity card from left to right are:

  - A grab field to allow dragging and re-ordering layers with the
    mouse.

  - The title and period associated with the layer.

  - An eye symbol for toggling the visibility of the layer.

  - An arrow symbol to collapse and expand the tracked entity card.

In the middle of the tracked entity card is a legend indicating the
styling of the layer.

Along the bottom of the tracked entity card from left to right are:

  - An edit (pencil) button to open the layer configuration dialog.

  - A slider for modifying the layer transparency.

  - A delete (trash can) icon to remove the layer from the current map.

### Create a tracked entity layer

To create an tracked entity layer, choose **Tracked entities** on the
**Add layer** selection. This opens the Tracked entity layer
configuration dialog.

1.  In the **DATA** tab:
    
    ![](resources/images/maps/maps_tracked_entity_layer_dialog_DATA.png)
    
      - Select the **Tracked Entity Type** you want to show on the map.
    
      - Select a **Program** where the tracked entities belong.
    
      - Set the **Program status** to be **Active** or **Completed**.
    
      - Set the **Follow up** status of the tracked entity for the given
        program.

2.  In the **PERIOD**
    tab
    
    ![](resources/images/maps/maps_tracked_entity_layer_dialog_PERIOD.png)
    
      - If no program is selected, you can set start and end dates when
        the tracked entities were last updated.
    
      - If a program is selected, you can set start and end dates for
        the program period.

3.  In the **ORG UNITS**
    tab:
    
    ![](resources/images/maps/maps_tracked_entity_layer_dialog_ORG_UNITS.png)
    
      - Select the organisation units you want to include in the layer.
        You have 3 selection modes:
        
          - **Selected only**: Include tracked entities belonging to
            selected org units only.
        
          - **Selected and below**: Included tracked entities in and
            right below selected org units.
        
          - **Selected and all below**: Included tracked entities in and
            all below selected org units.

4.  In the **STYLE**
    tab:
    
    ![](resources/images/maps/maps_tracked_entity_layer_dialog_STYLE.png)
    
      - Select a **color** for the tracked entities points and polygons.
    
      - Select the **point size** (radius between 1 and 20) for the
        points.
    
      - Select **Show buffer** to display visual buffer around each
        tracked entity. The buffer distance in meters can be modified
        here.

5.  Click **ADD/UPDATE LAYER**.

### Modify a tracked entity layer

1.  In the layer panel, click the edit (pencil) icon on the tracked
    entity layer card.

2.  Modify the setting on the DATA, PERIOD, ORG UNIT and STYLE tabs as
    desired.

3.  Click **UPDATE LAYER**.

### Clear a tracked entity layer

To clear a tracked entity layer from a map:

1.  In the layer panel, click the delete (trash can) icon on the tracked
    entity layer card.
    
    The layer is removed from the current map.

## Manage facility layers

The facility layer displays icons that represent types of facilities.
Polygons do not show up on the map, so make sure that you select an
organisation unit level that has facilities.

*A polygon is an enclosed area on a map representing a country, a
district or a park.*


![](resources/images/maps/maps_facility_layer.png)

Facility layers are represented by layer *cards* in the layer panel such
as:

Along the top of the facilities card from left to right are:

  - A grab field to allow dragging and re-ordering layers with the mouse

  - The **Facilities** title

  - An eye symbol for toggling the visibility of the layer

  - An arrow symbol to collapse and expand the facilities card

In the middle of the facilities card is a legend indicating the group
set representation.

Along the bottom of the facilities card from left to right are:

  - An edit (pencil) button to open the layer configuration dialog

  - A **data table** toggle button to show or hide the data table
    associated with the layer

  - A slider for modifying the layer transparency

  - A delete (trash can) icon to remove the layer from the current
    thematic map.

### Create a facility layer

To create facility layer, choose **Facilities** on the **Add
layer**selection. This opens the Facility layer configuration dialog.

1.  In the **GROUP SET** tab:
    
    ![](resources/images/maps/maps_facility_layer_dialog_GROUPSET.png)
    
      - Select a **Group set** from the list of organisation unit group
        sets defined for your DHIS2 instance.

2.  In the **ORGANISATION UNITS** tab
    
    ![](resources/images/maps/maps_facility_layer_dialog_ORG_UNITS.png)
    
      - select the organisation unit level(s) and/or group(s) from the
        selection fields on the right hand side.
    
      - Select the organisation units you want to include in the layer.
        It is possible to select either
        
          - One or more specific organisation units, or
        
          - A relative level in the organisation unit hierarchy, with
            respect to the user. By selecting a **User organisation
            unit** the map data will appear differently for users at
            different levels in the organisation unit hierarchy.

3.  In the **STYLE** tab:
    
    ![](resources/images/maps/maps_facility_layer_dialog_STYLE.png)
    
      - select any styling you wish to apply to the facilities.
        
          - Show labels  
            Allows labels to be shown on the layer. Font size, weight
            and color can be modified here.
        
          - Show buffer  
            Allows a visual buffer to be displayed on the layer around
            each facility. The radius of the buffer can be modified
            here.

4.  Click **ADD LAYER**.

### Create or modify a facility layer

1.  In the layer panel, click the edit (pencil) icon on the facility
    layer card.

2.  Modify the setting on the GROUP SET, ORGANISATION UNITS and STYLE
    tabs as desired.

3.  Click **UPDATE LAYER**.

### Filter values in a facility layer

Facility layers have a **data table** option that can be toggled on or
off from the facility layer card.

![](resources/images/maps/maps_facility_layer_data_table.png)

The data table displays the data forming the facility layer.

  - clicking on a title will sort the table based on that column;
    toggling between ascending and descending.

  - entering text or expressions into the filter fields below the titles
    will apply those filters to the data, and the display will adjust
    according to the filter. The filters are applied as follows:
    
      - NAME  
        filter by name containing the given text
    
      - ID  
        filter by IDs containing the given text
    
      - TYPE  
        filter by GIS display types containing the given text

> **Note**
> 
> Data table filters are temporary and are not saved with the map layers
> as part of the favourite.

### Search for a facility

The NAME filter field in the data table provides an effective way of
searching for individual facilities.

### Remove facility layer

To clear all data in a facility layer:

1.  In the layer panel, click the delete (trash can) icon on the
    facility layer card.
    
    The layer is removed from the current map.

### Manage facilities in a layer

You can have facilities in **Facility**, **Boundary** and **Thematic**
layers.

#### Relocate a facility

1.  Right-click a facility and click **Relocate**.

2.  Put the cursor in the new location.
    
    The new coordinate is stored permanently. This cannot be undone.

#### 

1.  Right-click a facility and click **Swap longitude/latitude**.
    
    This is useful if a user inverted latitude and longitude coordinates
    when creating the organisation unit.

#### Display facility information

You can view organisation unit information set by the administrator as
follows:

<table>
<caption>View organisation unit information</caption>
<colgroup>
<col style="width: 40%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>View information for the current period</p></td>
<td><ol type="1">
<li><p>Click a facility.</p></li>
</ol></td>
</tr>
<tr class="even">
<td><p>View information for a selected period</p></td>
<td><ol type="1">
<li><p>Right-click a facility and click <strong>Show information</strong>.</p></li>
<li><p>In the <strong>Infrastructural data</strong> section, select a period.</p></li>
</ol>
<blockquote>
<p><strong>Note</strong></p>
<p>You configure the displayed infrastructural data in the <strong>System Settings</strong> app.</p>
</blockquote></td>
</tr>
</tbody>
</table>

## Manage thematic layers

*Thematic maps* represent spatial variation of geographic distributions.
Select your desired combination of indicator/data element, period and
organisation unit level. If your database has coordinates and aggregated
data values for these organisation units, they will appear on the map.

> **Note**
> 
> You must refresh the DHIS2 analytics tables to have aggregated data
> values available.


![](resources/images/maps/maps_thematic_mapping.png)

Thematic layers are represented by layer *cards* in the layer panel such
as:

Along the top of the thematic card from left to right are:

  - A grab field to allow dragging and re-ordering layers with the mouse

  - The title and period associated with the layer

  - An eye symbol for toggling the visibility of the layer

  - An arrow symbol to collapse and expand the thematic card

In the middle of the thematic card is a legend indicating the value
ranges displayed on the layer.

Along the bottom of the thematic card from left to right are:

  - An edit (pencil) button to open the layer configuration dialog

  - A **data table** toggle button to show or hide the data table
    associated with the layer

  - A slider for modifying the layer transparency

  - A delete (trash can) icon to remove the layer from the current
    thematic map.

### Create a thematic layer

To create an event layer, choose **Thematic** on the **Add
layer**selection. This opens the Events layer configuration dialog.

1.  In the **DATA** tab:
    
    ![](resources/images/maps/maps_thematic_layer_dialog_DATA.png)
    
      - Select a data type and then select respectively the group and
        the target element. The available fields depend on the type of
        item selected.
    
      - Select a value from the **Aggregation type** field for the data
        values to be shown on the map. By default, "By data element" is
        selected. Alternative values are: Count; Average; Sum; Standard
        deviation; Variance; Min; Max. See also [Aggregation
        operators](https://dhis2.github.io/dhis2-docs/master/en/user/html/ch10s05.html#d0e8082).

2.  In the **PERIOD** tab
    
    ![](resources/images/maps/maps_thematic_layer_dialog_PERIOD.png)
    
      - select the time span over which the thematic data is aggregated.
        You can select either a fixed period or a relative period.
        
          - Fixed period  
            In the **Period type** field select period length, then
            select the target in the **Period** field.
        
          - Relative period  
            In the **Period type** field select **Relative**, then
            select one of the relative periods, for example **This
            month** or **Last year**, in the **Period** field.

3.  In the **ORG UNITS** tab:
    
    ![](resources/images/maps/maps_thematic_layer_dialog_ORG_UNITS.png)
    
      - Select the organisation units you want to include in the layer.
        It is possible to select either
        
          - One or more specific organisation units, or
        
          - A relative level in the organisation unit hierarchy, with
            respect to the user. By selecting a **User organisation
            unit** the map data will appear differently for users at
            different levels in the organisation unit hierarchy.

4.  In the **STYLE** tab:
    
    ![](resources/images/maps/maps_thematic_layer_dialog_STYLE.png)
    
      - Select either **Automatic** or **Predefined** legend.
        
          - Automatic legend types means that the application will
            create a legend set for you based on your what method,
            number of classes, low color and high color you select.
            Method alludes to the size of the legend classes. Set to
            
              - Equal intervals  
                the range of each interval will be **highest data value
                - lowest data value / number of classes**
            
            <!-- end list -->
            
              - Equal counts  
                the legend creator will try to distribute the
                organisation units evenly.
        
          - If you have facilities in your thematic layer, you can set
            the radius for minimum and maximum values by changing the
            values in the **Low size** and **High size** boxes
            respectively.

5.  Click **ADD LAYER**.

### Modify a thematic layer

1.  In the layer panel, click the edit (pencil) icon on the thematic
    layer card.

2.  Modify the setting on the DATA, PERIOD, ORG UNITS and STYLE tabs as
    desired.

3.  Click **UPDATE LAYER**.

### Filter values in a thematic layer

Thematic layers have a **data table** option that can be toggled on or
off from the thematic layer card.

![](resources/images/maps/maps_thematic_layer_data_table0.png)

The data table displays the data forming the thematic layer.

  - clicking on a title will sort the table based on that column;
    toggling between ascending and descending.

  - entering text or expressions into the filter fields below the titles
    will apply those filters to the data, and the display will adjust
    according to the filter. The filters are applied as follows:
    
      - NAME  
        filter by name containing the given text
    
      - VALUE  
        filter values by given numbers and/or ranges, for example:
        2,\>3&\<8
    
      - LEGEND  
        filter by legend containing the given text
    
      - RANGE  
        filter by ranges containing the given text
    
      - LEVEL  
        filter level by numbers and/or ranges, for example: 2,\>3&\<8
    
      - PARENT  
        filter by parent names containing the given text
    
      - ID  
        filter by IDs containing the given text
    
      - TYPE  
        filter by GIS display types containing the given text
    
      - COLOR  
        filter by color names containing the given text

![](resources/images/maps/maps_thematic_layer_data_table1.png)

> **Note**
> 
> Data table filters are temporary and are not saved with the map layers
> as part of the favourite.

### Search for an organisation unit

The NAME filter field in the data table provides an effective way of
searching for individual organisation units.

### Navigate between organisation hierarchies

When there are visible organisation units on the map, you can easily
navigate up and down in the hierarchy without using the level/parent
user interface.

1.  Right-click one of the organisation units.

2.  Select **Drill up one level** or **Drill down one level**.
    
    The drill down option is disabled if you are on the lowest level or
    if there are no coordinates available on the level below. Likewise
    the drill up option is disabled from the highest level.

### Remove thematic layer

To clear all data in a thematic layer:

1.  In the layer panel, click the delete (trash can) icon on the
    thematic layer card.
    
    The layer is removed from the current map.

## Manage boundary layers

The boundary layer displays the borders and locations of your
organisation units. This layer is particularly useful if you are offline
and don't have access to background maps.


![](resources/images/maps/maps_bound_layers.png)

Boundary layers are represented by layer *cards* in the layer panel such
as:

Along the top of the boundary card from left to right are:

  - A grab field to allow dragging and re-ordering layers with the mouse

  - The **Boundaries** title

  - An eye symbol for toggling the visibility of the layer

  - An arrow symbol to collapse and expand the boundary card

Along the bottom of the boundary card from left to right are:

  - An edit (pencil) button to open the layer configuration dialog

  - A **data table** toggle button to show or hide the data table
    associated with the layer

  - A slider for modifying the layer transparency

  - A delete (trash can) icon to remove the layer from the current
    thematic map.

### Create a boundary layer

To create boundary layer, choose **Boundaries** on the **Add
layer**selection. This opens the Boundary layer configuration dialog.

1.  In the **ORGANISATION UNITS** tab
    
    ![](resources/images/maps/maps_boundary_layer_dialog_ORG_UNITS.png)
    
      - select the organisation unit level(s) and/or group(s) from the
        selection fields on the right hand side.
    
      - Select the organisation units you want to include in the layer.
        It is possible to select either
        
          - One or more specific organisation units, or
        
          - A relative level in the organisation unit hierarchy, with
            respect to the user. By selecting a **User organisation
            unit** the map data will appear differently for users at
            different levels in the organisation unit hierarchy.

2.  In the **STYLE** tab:
    
    ![](resources/images/maps/maps_boundary_layer_dialog_STYLE.png)
    
      - select any styling you wish to apply to the boundaries.
        
          - Show labels  
            Allows labels to be shown on the layer. Font size and weight
            can be modified here.
        
          - Point radius  
            Sets the base radius when point type elements, such as
            facilities, are presented on the boundary layer.

3.  Click **ADD LAYER**.

### Modify a boundary layer

1.  In the layer panel, click the edit (pencil) icon on the boundary
    layer card.

2.  Modify the setting on the ORGANISATION UNITS and STYLE tabs as
    desired.

3.  Click **UPDATE LAYER**.

### Filter values in a boundary layer

Boundary layers have a **data table** option that can be toggled on or
off from the boundary layer card.

![](resources/images/maps/maps_bound_layer_data_table.png)

The data table displays the data forming the boundary layer.

  - clicking on a title will sort the table based on that column;
    toggling between ascending and descending.

  - entering text or expressions into the filter fields below the titles
    will apply those filters to the data, and the display will adjust
    according to the filter. The filters are applied as follows:
    
      - NAME  
        filter by name containing the given text
    
      - LEVEL  
        filter level by numbers and/or ranges, for example: 2,\>3&\<8
    
      - PARENT  
        filter by parent names containing the given text
    
      - ID  
        filter by IDs containing the given text
    
      - TYPE  
        filter by GIS display types containing the given text

> **Note**
> 
> Data table filters are temporary and are not saved with the map layers
> as part of the favourite.

### Search for an organisational unit

The NAME filter field in the data table provides an effective way of
searching for individual organisational units displayed in the boundary
layer.

### Navigate between organisation hierarchies

You can modify the target of the boundary layer in the hierarchy without
using the level/parent user interface.

1.  Right-click one of the boundaries.

2.  Select **Drill up one level** or **Drill down one level**.
    
    The drill down option is disabled if you are on the lowest level.
    Likewise the drill up option is disabled from the highest level.

### Remove boundary layer

To clear all data in a boundary layer:

1.  In the layer panel, click the delete (trash can) icon on the
    boundary layer card.
    
    The layer is removed from the current map.

## Manage Earth Engine layer


![](resources/images/maps/maps_earth_eng_layer.png)

The Google Earth Engine layer lets you display satellite imagery and
geospatial datasets from Google's vast catalog. These layers is useful
in combination with thematic and event layers to enhance analysis. The
following layers are supported:

  - Population density estimates with national totals adjusted to match
    UN population division estimates. Population in 100 x 100 m grid
    cells (from 2010).

  - Elevation above sea-level. You can adjust the min and max values so
    it better representes the terrain in your region.

  - Temperature: Land surface temperatures collected from satellite.
    Blank spots will appear in areas with a persistent cloud cover.

  - Precipitation collected from satellite and weather stations on the
    ground. The values are in millimeters within 5 days periods. Updated
    monthly, during the 3rd week of the following month.

  - Land cover: 17 distinct landcover types collected from satellites.

  - Nighttime lights: Lights from cities, towns, and other sites with
    persistent lighting, including gas flares (from 2013).

### Create an Earth Engine layer

To create an Earth Engine layer, choose the desired layer from the **Add
layer**selection. This opens the layer configuration dialog.

1.  In the **STYLE** tab
    
    ![](resources/images/maps/maps_ee_layer_dialog_POPULATION.png)
    
      - Modify the parameters specific to the layer type.
    
      - Adjust the legend range, steps and colors, as desired.

2.  Click **ADD LAYER**.

## Add external map layers

External map layers are represented as either:

  - Basemaps  
    These are available in the **basemap** card in the layers panel and
    are selected as any other basemap.

  - Overlays  
    These are available in the **Add layer** selection. Unlike basemaps,
    overlays can be placed above or below any other overlay layers.

Overlay layers are represented by additional layer *cards* in the layer
panel such as:

Along the top of the overlay card from left to right are:

  - A grab field to allow dragging and re-ordering layers with the mouse

  - The title of the external map layer

  - An eye symbol for toggling the visibility of the layer

  - An arrow symbol to collapse and expand the overlay card

Along the bottom of the overlay card from left to right are:

  - A slider for modifying the layer transparency

  - A delete (trash can) icon to remove the layer from the current
    thematic map.

Here are some examples of external layers:


![](resources/images/maps/maps_black_basemap_and_nighttime_lights.png)

![](resources/images/maps/maps_terrain_imagery.png)

![](resources/images/maps/maps_aerial_imagery.png)

> **Note**
> 
> To define external map layers, see the
> [???](#manage_external_maplayer).

## File menu

Use the **File menu** to manage your maps. Several menu items will be
disabled until you open or save a map.

Saving your maps makes it easy to restore them later. It also gives you
the opportunity to share them with other users as an interpretation or
put it on the dashboard. You can save all types of layer configurations
as a favorite.

### Create a new map

Click **File** \> **New**.

NB\! This will clear the current map layers you have without saving.

### Open a new map

1.  Click **File** \> **Open**. A dialog box opens with a list of maps.

2.  Find the favorite you want to open. You can either use \< and \> or
    the search field to find a saved map. The list is filtered on every
    character that you enter. You can filter the list by selecting
    **Show all**, **Created by me** or **Created by others**.

3.  Click the name of the map you want to open.

### Save a map

When you have created a map it is convenient to save it for later use:

1.  Click **File** \> **Save**.

2.  Enter a **Name** (required) and a **Description** (optional) the
    first time you save a map.

3.  Click **SAVE**.

### Save a copy of a map

1.  Click **File** \> **Save as...**

2.  Enter a **Name** (required) and a **Description** (optional) for the
    map.

3.  Click **SAVE**.

### Rename a map

1.  Click **File** \> **Rename**.

2.  Enter a new **Name** and/or **Description** for your map.

3.  Click **RENAME**. The map is updated.

You can also rename maps without opening them:

1.  Click **File** \> **Open**. A dialog box opens with a list of maps.

2.  Find the map you want to rename. You can either use \< and \> or the
    search field.

3.  Click the more options icon (three dots) at the right of the map
    row, and select **Rename**.

4.  Follow the steps above.

### Translate a map

1.  Click **File** \> **Translate**.

2.  Select the **Locale** (language) your translation.

3.  Enter a translated **Name** and **Description**. The original text
    will show below the field.

4.  Click **SAVE**.

### Modify sharing settings for a map

After you have created a map and saved it, you can share the map with
everyone or a user group. To modify the sharing settings:

1.  Click **File** \> **Share**. The sharing settings dialog opens.

2.  In the text box, search for the name of the user or group you want
    to share your favorite with and select it.
    
    The chosen user or group is added to the list of recipients.
    
    Repeat the step to add more user groups.

3.  If you want to allow external access, select the corresponding box.

4.  For each user group, choose an access setting. The options are:
    
      - None (for default groups only, as they cannot be removed)
    
      - Can view
    
      - Can edit and view

5.  Click **CLOSE** to close the dialog.

You can also rename maps without opening them:

1.  Click **File** \> **Open**. A dialog box opens with a list of maps.

2.  Find the map you want to share. You can either use \< and \> or the
    search field.

3.  Click the more options icon (three dots) at the right of the map
    row, and select **Share**.

4.  Follow the steps above.

### Get the link to a map

1.  Click **File** \> **Get link**. A link dialog opens.

2.  Copy the link.

### Delete a map

1.  Click **File** \> **Delete**. A confirmation dialog is displayed.

2.  Click **DELETE** to confirm that you want to delete the favorite.
    Your map is deleted and the layers are cleared from the view.

You can also delete maps without opening them:

1.  Click **File** \> **Open**. A dialog box opens with a list of maps.

2.  Find the map you want to delete. You can either use \< and \> or the
    search field.

3.  Click the more options icon (three dots) at the right of the map
    row, and select **Delete**.

4.  Follow step 2 above.

## Map interpretations

An interpretation is a description of a map at a given period. This
information is visible in the **Dashboard app**. Click
**Interpretations** in the top right of the workspace to open the
interpretations panel. The button is only clickable if the map is saved.

![](resources/images/maps/maps_interpretations_panel.png)

### View interpretations based on relative periods

To view interpretations for relative periods, such as a year ago:

1.  Open a favorite with interpretations.

2.  Click **Interpretations** in the top right of the workspace to open
    the interpretations panel.

3.  Click an interpretation. Your map displays the data and the date
    based on when the interpretation was created. To view other
    interpretations, click them.

### Write interpretation for a map

To create an interpretation, you first need to create a map and save it.
If you've shared your map with other people, the interpretation you
write is visible to those people.

1.  Open a favorite with interpretations.

2.  Click **Interpretations** in the top right of the workspace to open
    the interpretations panel.

3.  Click + to write a new interpretations.

4.  In the text field, type a comment, question or interpretation. You
    can also mention other users with '@username'. Start by typing '@'
    plus the first letters of the username or real name and a mentioning
    bar will display the available users. Mentioned users will receive
    an internal DHIS2 message with the interpretation or comment. You
    can see the interpretation in the **Dashboard app**.

5.  Click **SAVE** if you want your interpretation to have the same
    sharing settings as the map.
    
    Click **SAVE & SHARE** if you want to change the sharing settings
    (see below) for your interpretation.

### Change sharing settings for an interpretation

1.  Click an interpretation (see how to view an interpretation above).

2.  Click **Share** below the interpretation. The sharing settings
    dialog opens.

3.  Search for and add a users and user groups that you want to share
    your map with.

4.  Change sharing settings for the users you want to modify:
    
      - **Can edit and view**: Everyone can view and edit the object.
    
      - **Can view only**: Everyone can view the object.
    
      - **No access**: The public won't have access to the object. This
        setting is only applicable to Public access.

5.  Click **CLOSE** when sharing settings are updated.

## Save a map as an image

1.  Take a screenshot of the map with the tool of your choice.

2.  Save the screenshot in desired format.

## Search for a location

The place search function allows you to search for almost any location
or address. This function is useful in order to locate for example
sites, facilities, villages or towns on the map.


![](resources/images/maps/maps_place_search.png)

1.  On the right side of the Maps window, click the magnifier icon.

2.  Type the location you're looking.
    
    A list of matching locations appear as you type.

3.  From the list, select a location. A pin indicates the location on
    the map.

## Measure distances and areas in a map

1.  In the upper left part of the map, put the cursor on the **Measure
    distances and areas** (ruler) icon and click **Create new
    measurement**.

2.  Add points to the map.

3.  Click **Finish measurement**.


![](resources/images/maps/maps_measure_distance.png)

## Get the latitude and longitude at any location

Right-click a point on the map and select **Show longitude/latitude**.
The values display in a pop-up window.

## See also

  - [Manage
    legends](https://docs.dhis2.org/master/en/user/html/manage_legend.html)

# Managing dashboards

## About dashboards

Dashboards are intended to provide quick access to different analytical
objects (maps, charts, reports, tables, etc) to an individual user.
Dashboards can also be shared with user groups.

A user or administrator could create a dashboard called "Antenatal care"
which might contain all relevant information on antenatal care. This
dashboard could then be shared with the user group called "ANC control",
which might consist of all users of the ANC control program. All users
within this group would then be able to view the same dashboard.

## Dashboard and control bar

Dashboards have a title, description, and any number of dashboard items.
The dashboard items can be of many different types, including charts,
maps, reports, tables, resources, messages, and text items. Above the
dashboard is the control bar, which shows all your available dashboards,
including a dashboard search field, and a **+** button for creating a
new dashboard.

The dashboard has two modes: view and edit/create. When you first log in
to DHIS2, your most recently used dashboard will be displayed in view
mode, if you are on the same computer as you were previously. If you are
using a different computer, then the first starred dashboard will be
displayed. if there are no starred dashboards, then the first dashboard
will be displayed. Starred dashboards always show first in the dashboard
list.

The screenshot below shows a dashboard called "Antenatal Care", which
has been populated with charts and maps.


![](resources/images/dashboard/dashboard-view-mode.png)

### Searching in the list of dashboards

You can search for a specific dashboard using the search field in the
upper left of the control bar entitled “Search for a dashboard”. The
search is case insensitive, and as you type, the list of dashboards will
filter down to those that match your search text.

### Customizing the height of the control bar

You can set a specific height for the dashboards control bar by
down-clicking and dragging the bottom edge of the control bar. When you
finish dragging, the new height will be set. Clicking on **SHOW MORE**
will expand the control bar to its maximum height (10 "rows"). Clicking
on **SHOW LESS** will reset the height to your customized height.

## Creating a dashboard

To create a new dashboard, click the green **+** button in the left
corner of the control bar to go into create mode. Add a title in the
title field, and optionally a description in the description field.


![](resources/images/dashboard/dashboard-add-new.png)

**Create mode:**

![](resources/images/dashboard/dashboard-create-mode.png)

### Adding items to the dashboard

Add items to the dashboard by searching from the item selector in the
upper right part of the dashboard area. Available items include:

  - Pivot tables

  - Charts

  - Maps

  - Event reports

  - Event charts

  - Report

  - Resources

  - Apps

  - Email

  - Text boxes

  - Spacer

The list of items in the dropdown initially displays the first 5
available from each category, based on the search text you enter. Email,
text boxes and spacer items are also found in the dropdown. To view more
items, click on **SEE MORE**, and the list for that type will be
extended to 15 items. If you still do not find the item you want, try
typing a more specific search text.

![](resources/images/dashboard/dashboard-item-selector.png)

Once you select an item, it will be added to the top left position of
the dashboard. The added items can be moved using the mouse by
down-clicking on the item and dragging it to the desired position. It
can also be resized with the mouse by down-clicking on the drag handle
in the lower right corner of the item and dragging to the desired size.

### Spacer items

The dashboard is configured with the "anti-gravity" setting for
positioning items. This means that items will "rise" upwards until they
run into another item. In order to force empty vertical space between
items (like an empty row), you can add spacer items to the dashboard.
They are only visible in edit/create mode. In view mode, they are not
displayed, but take up the defined space.

**Spacer in edit/create mode:**

![](resources/images/dashboard/dashboard-spacer-edit-mode.png)

**Spaceer in view mode:**

![](resources/images/dashboard/dashboard-spacer-view-mode.png)

\</section\>

## Removing items

Remove items by clicking on the red trash can at the upper right of the
item. Be aware that because of the "anti-gravity" setting in the
dashboard, when you remove an item, the items that are positioned below
the removed item will "rise" upwards.

## Saving the dashboard

When creating or editing a dashboard, changes are only saved when you
click **SAVE CHANGES** button in the dashboard edit bar at the top of
the page. If you don't want to save your changes, click the **EXIT
WITHOUT SAVING** button to the upper right. You will then be returned to
view mode with the dashboard you were previously viewing.

\</section\>

## Editing an existing dashboard

If you have access rights to edit the currently active dashboard, there
will be an **EDIT** button to the right of the dashboard title in view
mode. Click on this button to enter edit mode.


![](resources/images/dashboard/dashboard-title-bar.png)

Refer to the above section about creating dashboards for information on
adding and removing items to the dashboard.

![](resources/images/dashboard/dashboard-edit-mode.png)

### Translating dashboard title and description

You can add translations for dashboard title and description while in
edit mode. The dialog provides a list of languages to translate to, and
shows the original dashboard title underneath the name input field.

![](resources/images/dashboard/dashboard-translation-dialog.png)

1.  Click on the **TRANSLATE** button located above the dashboard

2.  Select the language you wish to add a translation for.

3.  Add the title and/or description, and click **SAVE**

## Deleting a dashboard

If you have access to delete the dashboard, then there will be a
**DELETE** button located above the dashboard, when in edit mode. A
confirmation dialog will first be displayed to confirm that you want to
delete the dashboard.

\</section\>

## Viewing a dashboard

When in view mode, you can toggle showing the description, star a
dashboard, apply a dashboard filter, and share the dashboard with other
users and groups

To view the description, click on the **i** button to the right of the
title


![](resources/images/dashboard/dashboard-title-bar.png)

### Starred dashboards

Your starred dashboards are listed first in the list of dashboards. To
star a dashboard, click on the star button to the right of the title.
When the star is “filled”, that means the dashboard is starred. Starring
a dashboard only applies to you, not other users.

### Filtering a dashboard

To filter the dashboard by organisation unit, click on the **FILTER**
button to the right of the dashboard title. Select the organisation
units you want to apply to the dashboard. This only affects you, no
other users. The only dashboard items that are impacted by the
organisation unit filter are visualization items (pivot table, chart,
map) that have their organisation unit configured to "User org unit". If
you reload the dashboard, the filter will be cleared.

![](resources/images/dashboard/dashboard-orgunit-filter-dialog.png)

## Dashboard items with charts, pivot tables and maps

### Switching between visualizations

Dashboard items showing charts, pivot tables and maps can be toggled
between these visualizations. Click on the buttons in the upper right
corner of the item to toggle between visualizations.


![](resources/images/dashboard/dashboard-pluginitem-buttons.png)

## Interpretations

You can write interpretations for the chart, pivot table, map, event
report, and event chart items. Click on the interpretations button
![](resources/images/dashboard/dashboard-interpretations-button.png),
and the item will be expanded vertically underneath to show the
interpretations and replies. You can like an interpretation, reply to an
interpretation, and add your own interpretation. You can edit or delete
your own interpretations and replies, and if you have moderator access,
you can delete others’ interpretations.

It is possible to format the text with **bold**, *italic* by using the
Markdown style markers \* and \_ for **bold** and *italic* respectively.
Keyboard shortcuts are also available: Ctrl/Cmd + B and Ctrl/Cmd + I. A
limited set of smilies is supported and can be used by typing one of the
following character combination: :) :-) :( :-( :+1 :-1. URLs are
automatically detected and converted into a clickable link.


![](resources/images/dashboard/dashboard-interpretations.png)

## Sharing a dashboard

In order to share a dashboard with user groups, click on the **SHARE**
button to the right of the dashboard title to display the dashboard
sharing settings options. To share the dashboard with specific users or
user groups, type in the name in the input field to add them to the
dashboard sharing settings


![](resources/images/dashboard/dashboard-sharing-dialog.png)

All dashboards have two sharing groups set by default.

  - External access (without login)
    
    This option, when selected, provides access to the dashboard as an
    external resource. This is useful for when you are creating an
    external web portal but would like to call information from a
    dashboard you have made internally within DHIS2. By default, this
    option is not selected.

  - Public access (with login)
    
    This option allows the selected dashboard to be pushed to all users
    within your DHIS2 instance. This can also be hidden from public view
    by selecting the "None" option, which is the default option for new
    dashboards.

User groups that have been added manually can be assigned two types of
permissions within the dashboard

  - Can view
    
    Provides the user group with view only rights to the dashboard.

  - Can edit and view
    
    Allows the user groups to edit the dashboard in addition to viewing
    it. Editing allows for altering the layout, resizing and removing
    items, renaming/deleting the dashboard etc.

You can provide users with the url of the dashboard, allowing them to
navigate directly to the dashboard. To get the dashboard url, just
access the dashboard in view mode, and copy the browser url. For
example, the url to the Antenatal Care dashboard in play.dhis2.org/demo
is:

https://play.dhis2.org/demo/dhis-web-dashboard/\#/nghVC4wtyzi

\</section\>

# Messaging

## About messages and feedback messages

![](resources/images/messaging/view_inbox.png)

Within DHIS2 you can send messages and feedback messages to users, user
groups and organisation units. When you send a feedback message, it is
routed to a particular user group called the feedback recipient group.
If you're a member of this user group, you've access to feedback
handling tools. You can for example set the status of an incoming
feedback to "Pending" while you're waiting for information.

In addition to the user-to-user and feedback messages, depending on your
configuration the system will also send you system-generated messages.
These messages could be triggered by different events, including system
or background job failures and validation analysis results. Feedback
handling tools are also available for validation results and the
priority will be set to the importance of the validation rule violated.

To visit the app click **message icon in header bar** or find the
**Messaging** app in the app search box.

> **Note**
> 
> Messages and feedback messages are not sent to users' e-mail
> addresses, the messages only appear within DHIS2.
> 
> With 2.30 we introduced a new messaging app which offers a richer
> messaging experience. Specifically:
> 
>   - Switch between list view and compact view by clicking the icon in
>     the top right corner. This enables the user to view messages in
>     two different views. The list view is simplistic and gives a good
>     overview of all messages and is especially suited for feedback and
>     validation messages. The compact view is a modern way of view
>     messages where the user has more information in one view, hence
>     viewing and replying several messages is easier. The first
>     screenshot in this section displays list view, while the
>     screenshot in section **Read a message** displays the compact
>     view.
> 
>   - A new search field is added which enables the user to search for
>     messages. The search filters messages on different message
>     attributes; subject, text and senders. This implies that you are
>     able to narrow down the message conversation list by entering a
>     search.
> 
>   - A auto refresh feature is added so that the app fetches new
>     messages at a set interval, every 5 minutes. This feature is
>     disabled by default.
> 
>   - For every message conversation you are able to add participants to
>     the conversation. This is very useful if you want input on that
>     particular conversation or if someone should also see the
>     information. It is not possible to delete participants from a
>     conversation.

## Create a message

![](resources/images/messaging/create_private_message.png)

1.  Click **Compose**.

2.  Define who you want to receive the message. You can send a message
    to organisation units, users and user groups.
    
      - In the **To** field you can search for organisation units, users
        and user groups and select the wished recipients.

3.  Type a subject and a message.

4.  Click **Send**.

## Read a message

![](resources/images/messaging/read_message.png)

1.  Select the appropriate message type to the left.

2.  Click a message.
    
    If the message is part of a conversation, you'll see all messages in
    this conversation.

## Create a feedback message

1.  Follow the steps as for creating a message, only selecting
    **Feedback message** instead of entering recipients.

2.  The message will be created as a feedback message and will appear in
    all of the specified users' **Ticket** folder.

## Attachments

With 2.31 we introduced attachments to messages. When creating or
replying to a message conversation you have the possibility to add
attachments. Currently there are no limitations to type or size of the
file.

## Manage validation and feedback messages

> **Note**
> 
> You'll only see feedback messages and have access to the extended
> handling tools if you are a member of the user group that is set up to
> handle feedback messages.
> 
> With the new app you manage extended tools for tickets and validation
> messages through the icon menu which appears when viewing a message or
> checking of messages in the conversation list.

<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td>All messages selected</td>
<td>All messages selected and extended choice picker selected</td>
</tr>
<tr class="even">
<td></td>
<td></td>
</tr>
</tbody>
</table>

You'll receive feedback messages to your **Ticket** folder and
validation messages to your **Validation** folder. For feedback and
validation messages you've the following options in addition to the
messages options:

<table style="width:100%;">
<caption>Feedback handling tools</caption>
<colgroup>
<col style="width: 23%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>Priority</strong></p></td>
<td><p>You can mark a feedback/validation message with different priorities: <strong>None</strong>, <strong>Low</strong>, <strong>Medium</strong> or <strong>High</strong>.</p>
<p>Setting the priority makes it easier to keep track of which feedback message you need resolved first, and which feedback messages that can wait.</p></td>
</tr>
<tr class="even">
<td><p><strong>Status</strong></p></td>
<td><p>All feedback/validation messages get the status <strong>Open</strong> when created.</p>
<p>To keep track of existing feedback messages, you can change the status to <strong>Pending</strong>, <strong>Invalid</strong> or <strong>Solved</strong>.</p>
<p>You can filter feedback/validation messages based on their status with the two drop down menues in the internal header bar.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Assigned to</strong></p></td>
<td><p>You can assign a feedback message to any member of the user group that is set up to handle feedback messages.</p>
<p>You can assign a validation message to any user in the system.</p>
<p><strong>-</strong> means that you haven't assigned a user to the feedback message.</p></td>
</tr>
<tr class="even">
<td><p><strong>Internal reply</strong></p></td>
<td><p>When you work in a feedback handling team you might want to discuss the feedback before sending an answer to the sender. You can keep this discussion in the same message conversation as the feedback itself.</p>
<p>To send a reply that within the feedback handling user group, click <strong>INTERNAL REPLY</strong>.</p></td>
</tr>
</tbody>
</table>

## Configure feedback message function

To configure the feedback message function, you must:

1.  Create a user group (for example "Feedback message recipients") that
    contains all the users who should receive feedback messages.

2.  Open the **System Settings** app and click **General** \> **Feedback
    recipients** and select the user group you created in the previous
    step.

# Set user account preferences

In **User settings**, you can change the display language of DHIS2 and
the language of the database. The database language is the translated
content of the metadata, such as data elements and indicators. You can
also choose a display style, and enable or disable SMS and email
notifications. If you wish to, you can choose to display a short name,
such as "Joe" in the analysis modules, rather than your full name.

In **User profile**, you can add personal information to your profile
such as your email address, mobile phone number, date of birth and more.
When you send messages, the person receiving the message can see these
profile details.

In **Account settings**, you can reset your password and setup 2-Factor
authentication. Setting up 2-Factor authentication will require you to
download the Google Authenticator app on you mobile device.
